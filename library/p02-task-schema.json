{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "title": "P02 Task Schema",
  "type": "object",
  "required": [
    "id",
    "featureKey",
    "taskType",
    "objective",
    "inputs",
    "outputs",
    "steps",
    "acceptanceCriteria",
    "priority",
    "metadata"
  ],
  "properties": {
    "id": {
      "type": "string",
      "description": "Unique task identifier (e.g., P02-000-smoke-test)"
    },
    "featureKey": {
      "type": "string",
      "description": "Associated feature or initiative key"
    },
    "taskType": {
      "type": "string",
      "description": "Type of task (system/dev/doc/etc.)"
    },
    "objective": {
      "type": "string",
      "description": "Short description of the task goal"
    },
    "inputs": {
      "type": "array",
      "items": {
        "type": "string"
      },
      "description": "List of input paths, files, or labels"
    },
    "outputs": {
      "type": "array",
      "items": {
        "type": "string"
      },
      "description": "Expected outputs generated by the task"
    },
    "steps": {
      "type": "array",
      "items": {
        "type": "string"
      },
      "description": "High-level steps required to execute the task"
    },
    "acceptanceCriteria": {
      "type": "array",
      "items": {
        "type": "string"
      },
      "description": "Conditions that must be met for completion"
    },
    "priority": {
      "type": "string",
      "enum": ["LOW", "MEDIUM", "HIGH"],
      "description": "Relative priority of the task"
    },
    "metadata": {
      "type": "object",
      "additionalProperties": {
        "type": ["string", "number", "boolean", "object", "array", "null"]
      },
      "description": "Free-form metadata for routing or auditing"
    }
  }
}
