<!doctype html><html lang=en class=no-js> <head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=description content="Enterprise-grade AI assistant platform for the Government of Canada"><meta name=author content=MarcoPolo483><link href=https://marcopolo483.github.io/eva-orchestrator/agents/book/chapter-P09-runbook-sre-agent/ rel=canonical><link rel=icon href=../../../assets/images/favicon.png><meta name=generator content="mkdocs-1.5.3, mkdocs-material-9.5.3"><title>Chapter P09: Runbook & SRE Agent - EVA Suite</title><link rel=stylesheet href=../../../assets/stylesheets/main.50c56a3b.min.css><link rel=stylesheet href=../../../assets/stylesheets/palette.06af60db.min.css><link rel=preconnect href=https://fonts.gstatic.com crossorigin><link rel=stylesheet href="https://fonts.googleapis.com/css?family=Noto+Sans:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback"><style>:root{--md-text-font:"Noto Sans";--md-code-font:"Roboto Mono"}</style><link rel=stylesheet href=../../../stylesheets/extra.css><script>__md_scope=new URL("../../..",location),__md_hash=e=>[...e].reduce((e,_)=>(e<<5)-e+_.charCodeAt(0),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script></head> <body dir=ltr data-md-color-scheme=default data-md-color-primary=red data-md-color-accent=red> <input class=md-toggle data-md-toggle=drawer type=checkbox id=__drawer autocomplete=off> <input class=md-toggle data-md-toggle=search type=checkbox id=__search autocomplete=off> <label class=md-overlay for=__drawer></label> <div data-md-component=skip> <a href=#chapter-p09-runbook-sre-agent class=md-skip> Skip to content </a> </div> <div data-md-component=announce> </div> <div data-md-color-scheme=default data-md-component=outdated hidden> </div> <header class=md-header data-md-component=header> <nav class="md-header__inner md-grid" aria-label=Header> <a href=../../.. title="EVA Suite" class="md-header__button md-logo" aria-label="EVA Suite" data-md-component=logo> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54Z"/></svg> </a> <label class="md-header__button md-icon" for=__drawer> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"/></svg> </label> <div class=md-header__title data-md-component=header-title> <div class=md-header__ellipsis> <div class=md-header__topic> <span class=md-ellipsis> EVA Suite </span> </div> <div class=md-header__topic data-md-component=header-topic> <span class=md-ellipsis> Chapter P09: Runbook & SRE Agent </span> </div> </div> </div> <form class=md-header__option data-md-component=palette> <input class=md-option data-md-color-media="(prefers-color-scheme: light)" data-md-color-scheme=default data-md-color-primary=red data-md-color-accent=red aria-label="Switch to dark mode" type=radio name=__palette id=__palette_0> <label class="md-header__button md-icon" title="Switch to dark mode" for=__palette_1 hidden> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M12 8a4 4 0 0 0-4 4 4 4 0 0 0 4 4 4 4 0 0 0 4-4 4 4 0 0 0-4-4m0 10a6 6 0 0 1-6-6 6 6 0 0 1 6-6 6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12 20 8.69Z"/></svg> </label> <input class=md-option data-md-color-media="(prefers-color-scheme: dark)" data-md-color-scheme=slate data-md-color-primary=red data-md-color-accent=red aria-label="Switch to light mode" type=radio name=__palette id=__palette_1> <label class="md-header__button md-icon" title="Switch to light mode" for=__palette_0 hidden> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M12 18c-.89 0-1.74-.2-2.5-.55C11.56 16.5 13 14.42 13 12c0-2.42-1.44-4.5-3.5-5.45C10.26 6.2 11.11 6 12 6a6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12 20 8.69Z"/></svg> </label> </form> <script>var media,input,key,value,palette=__md_get("__palette");if(palette&&palette.color){"(prefers-color-scheme)"===palette.color.media&&(media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']"),palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent"));for([key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script> <label class="md-header__button md-icon" for=__search> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg> </label> <div class=md-search data-md-component=search role=dialog> <label class=md-search__overlay for=__search></label> <div class=md-search__inner role=search> <form class=md-search__form name=search> <input type=text class=md-search__input name=query aria-label=Search placeholder=Search autocapitalize=off autocorrect=off autocomplete=off spellcheck=false data-md-component=search-query required> <label class="md-search__icon md-icon" for=__search> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg> </label> <nav class=md-search__options aria-label=Search> <a href=javascript:void(0) class="md-search__icon md-icon" title=Share aria-label=Share data-clipboard data-clipboard-text data-md-component=search-share tabindex=-1> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M18 16.08c-.76 0-1.44.3-1.96.77L8.91 12.7c.05-.23.09-.46.09-.7 0-.24-.04-.47-.09-.7l7.05-4.11c.54.5 1.25.81 2.04.81a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3c0 .24.04.47.09.7L8.04 9.81C7.5 9.31 6.79 9 6 9a3 3 0 0 0-3 3 3 3 0 0 0 3 3c.79 0 1.5-.31 2.04-.81l7.12 4.15c-.05.21-.08.43-.08.66 0 1.61 1.31 2.91 2.92 2.91 1.61 0 2.92-1.3 2.92-2.91A2.92 2.92 0 0 0 18 16.08Z"/></svg> </a> <button type=reset class="md-search__icon md-icon" title=Clear aria-label=Clear tabindex=-1> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"/></svg> </button> </nav> <div class=md-search__suggest data-md-component=search-suggest></div> </form> <div class=md-search__output> <div class=md-search__scrollwrap data-md-scrollfix> <div class=md-search-result data-md-component=search-result> <div class=md-search-result__meta> Initializing search </div> <ol class=md-search-result__list role=presentation></ol> </div> </div> </div> </div> </div> <div class=md-header__source> <a href=https://github.com/MarcoPolo483/eva-orchestrator title="Go to repository" class=md-source data-md-component=source> <div class="md-source__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 496 512"><!-- Font Awesome Free 6.5.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"/></svg> </div> <div class=md-source__repository> eva-orchestrator </div> </a> </div> </nav> </header> <div class=md-container data-md-component=container> <nav class=md-tabs aria-label=Tabs data-md-component=tabs> <div class=md-grid> <ul class=md-tabs__list> <li class=md-tabs__item> <a href=../../.. class=md-tabs__link> Home </a> </li> <li class=md-tabs__item> <a href=../../../eva-library/ class=md-tabs__link> EVA Library </a> </li> <li class=md-tabs__item> <a href=../../../book/ class=md-tabs__link> EVA Agentic Book </a> </li> <li class=md-tabs__item> <a href=../../../eva-sovereign-ui-book/00-introduction/ class=md-tabs__link> EVA Sovereign UI Book </a> </li> <li class=md-tabs__item> <a href=../../../compliance/ class=md-tabs__link> Compliance </a> </li> <li class=md-tabs__item> <a href=../../../architecture/roadmap.md class=md-tabs__link> Architecture </a> </li> </ul> </div> </nav> <main class=md-main data-md-component=main> <div class="md-main__inner md-grid"> <div class="md-sidebar md-sidebar--primary" data-md-component=sidebar data-md-type=navigation> <div class=md-sidebar__scrollwrap> <div class=md-sidebar__inner> <nav class="md-nav md-nav--primary md-nav--lifted" aria-label=Navigation data-md-level=0> <label class=md-nav__title for=__drawer> <a href=../../.. title="EVA Suite" class="md-nav__button md-logo" aria-label="EVA Suite" data-md-component=logo> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54Z"/></svg> </a> EVA Suite </label> <div class=md-nav__source> <a href=https://github.com/MarcoPolo483/eva-orchestrator title="Go to repository" class=md-source data-md-component=source> <div class="md-source__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 496 512"><!-- Font Awesome Free 6.5.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"/></svg> </div> <div class=md-source__repository> eva-orchestrator </div> </a> </div> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../.. class=md-nav__link> <span class=md-ellipsis> Home </span> </a> </li> <li class="md-nav__item md-nav__item--section md-nav__item--nested"> <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type=checkbox id=__nav_2> <label class=md-nav__link for=__nav_2 id=__nav_2_label tabindex> <span class=md-ellipsis> EVA Library </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=1 aria-labelledby=__nav_2_label aria-expanded=false> <label class=md-nav__title for=__nav_2> <span class="md-nav__icon md-icon"></span> EVA Library </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../eva-library/ class=md-nav__link> <span class=md-ellipsis> Overview </span> <span class="md-status md-status--production"></span> </a> </li> <li class=md-nav__item> <a href=../../../eva-library/getting-started/ class=md-nav__link> <span class=md-ellipsis> Getting Started </span> </a> </li> <li class="md-nav__item md-nav__item--section md-nav__item--nested"> <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type=checkbox id=__nav_2_3> <label class=md-nav__link for=__nav_2_3 id=__nav_2_3_label tabindex> <span class=md-ellipsis> Components </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_2_3_label aria-expanded=false> <label class=md-nav__title for=__nav_2_3> <span class="md-nav__icon md-icon"></span> Components </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../eva-library/components/button.md class=md-nav__link> <span class=md-ellipsis> Button </span> </a> </li> <li class=md-nav__item> <a href=../../../eva-library/components/input.md class=md-nav__link> <span class=md-ellipsis> Input </span> </a> </li> <li class=md-nav__item> <a href=../../../eva-library/components/select.md class=md-nav__link> <span class=md-ellipsis> Select </span> </a> </li> <li class=md-nav__item> <a href=../../../eva-library/components/checkbox.md class=md-nav__link> <span class=md-ellipsis> Checkbox </span> </a> </li> <li class=md-nav__item> <a href=../../../eva-library/components/radio.md class=md-nav__link> <span class=md-ellipsis> Radio </span> </a> </li> <li class=md-nav__item> <a href=../../../eva-library/components/modal.md class=md-nav__link> <span class=md-ellipsis> Modal </span> </a> </li> <li class=md-nav__item> <a href=../../../eva-library/components/tabs.md class=md-nav__link> <span class=md-ellipsis> Tabs </span> </a> </li> <li class=md-nav__item> <a href=../../../eva-library/components/card.md class=md-nav__link> <span class=md-ellipsis> Card </span> </a> </li> <li class=md-nav__item> <a href=../../../eva-library/components/alert.md class=md-nav__link> <span class=md-ellipsis> Alert </span> </a> </li> <li class=md-nav__item> <a href=../../../eva-library/components/chat-panel.md class=md-nav__link> <span class=md-ellipsis> Chat Panel </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--section md-nav__item--nested"> <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type=checkbox id=__nav_2_4> <label class=md-nav__link for=__nav_2_4 id=__nav_2_4_label tabindex> <span class=md-ellipsis> Framework Integration </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_2_4_label aria-expanded=false> <label class=md-nav__title for=__nav_2_4> <span class="md-nav__icon md-icon"></span> Framework Integration </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../eva-library/frameworks/react.md class=md-nav__link> <span class=md-ellipsis> React </span> </a> </li> <li class=md-nav__item> <a href=../../../eva-library/frameworks/vue.md class=md-nav__link> <span class=md-ellipsis> Vue </span> </a> </li> <li class=md-nav__item> <a href=../../../eva-library/frameworks/angular.md class=md-nav__link> <span class=md-ellipsis> Angular </span> </a> </li> <li class=md-nav__item> <a href=../../../eva-library/frameworks/svelte.md class=md-nav__link> <span class=md-ellipsis> Svelte </span> </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--section md-nav__item--nested"> <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type=checkbox id=__nav_3> <label class=md-nav__link for=__nav_3 id=__nav_3_label tabindex> <span class=md-ellipsis> EVA Agentic Book </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=1 aria-labelledby=__nav_3_label aria-expanded=false> <label class=md-nav__title for=__nav_3> <span class="md-nav__icon md-icon"></span> EVA Agentic Book </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../book/ class=md-nav__link> <span class=md-ellipsis> Overview </span> </a> </li> <li class=md-nav__item> <a href=../../../eva-agentic-book/00-front-matter/ class=md-nav__link> <span class=md-ellipsis> Front Matter </span> </a> </li> <li class=md-nav__item> <a href=../../../eva-agentic-book/01-introduction/ class=md-nav__link> <span class=md-ellipsis> Introduction </span> </a> </li> <li class=md-nav__item> <a href=../../../eva-agentic-book/02-eva-philosophy/ class=md-nav__link> <span class=md-ellipsis> EVA Philosophy </span> </a> </li> <li class=md-nav__item> <a href=../../../eva-agentic-book/03-pods-lifecycle/ class=md-nav__link> <span class=md-ellipsis> Pods & Lifecycle </span> </a> </li> <li class=md-nav__item> <a href=../../../eva-agentic-book/04-safety-governance/ class=md-nav__link> <span class=md-ellipsis> Safety & Governance </span> </a> </li> <li class=md-nav__item> <a href=../../../eva-agentic-book/05-eva-universe/ class=md-nav__link> <span class=md-ellipsis> EVA Universe - The Complete Vision </span> </a> </li> <li class=md-nav__item> <a href=../../../eva-agentic-book/06-orchestration/ class=md-nav__link> <span class=md-ellipsis> Orchestration </span> </a> </li> <li class=md-nav__item> <a href=../../../eva-agentic-book/07-workflows/ class=md-nav__link> <span class=md-ellipsis> Workflows </span> </a> </li> <li class=md-nav__item> <a href=../../../eva-agentic-book/08-agent-handbook/ class=md-nav__link> <span class=md-ellipsis> Agent Handbook </span> </a> </li> <li class=md-nav__item> <a href=../../../eva-agentic-book/09-provenance-fingerprinting/ class=md-nav__link> <span class=md-ellipsis> Provenance & Fingerprinting </span> </a> </li> <li class=md-nav__item> <a href=../../../eva-agentic-book/10-case-studies/ class=md-nav__link> <span class=md-ellipsis> Case Studies </span> </a> </li> <li class=md-nav__item> <a href=../../../eva-agentic-book/11-appendices/ class=md-nav__link> <span class=md-ellipsis> Appendices </span> </a> </li> <li class="md-nav__item md-nav__item--section md-nav__item--nested"> <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type=checkbox id=__nav_3_14> <label class=md-nav__link for=__nav_3_14 id=__nav_3_14_label tabindex> <span class=md-ellipsis> GC Agentic AI Framework </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_3_14_label aria-expanded=false> <label class=md-nav__title for=__nav_3_14> <span class="md-nav__icon md-icon"></span> GC Agentic AI Framework </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../agentic/EVA%20Canada%20Agentic%20AI%20Template%20vol0%20-%20how-to/ class=md-nav__link> <span class=md-ellipsis> Volume 0 - Overview & How-To </span> </a> </li> <li class=md-nav__item> <a href=../../../agentic/EVA%20Canada%20Agentic%20AI%20Template%20vol1/ class=md-nav__link> <span class=md-ellipsis> Volume 1 - Platform & Requirements </span> </a> </li> <li class=md-nav__item> <a href=../../../agentic/EVA%20Canada%20Agentic%20AI%20Template%20vol2/ class=md-nav__link> <span class=md-ellipsis> Volume 2 - Engineering & Delivery </span> </a> </li> <li class=md-nav__item> <a href=../../../agentic/EVA%20Canada%20Agentic%20AI%20Template%20vol3/ class=md-nav__link> <span class=md-ellipsis> Volume 3 - LiveOps & Governance </span> </a> </li> <li class=md-nav__item> <a href=../../../agentic/EVA%20Canada%20Agentic%20AI%20Template%20vol4/ class=md-nav__link> <span class=md-ellipsis> Volume 4 - Use Cases & Patterns </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--section md-nav__item--nested"> <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type=checkbox id=__nav_3_15> <label class=md-nav__link for=__nav_3_15 id=__nav_3_15_label tabindex> <span class=md-ellipsis> DevTools Patterns (P01-P22) </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_3_15_label aria-expanded=false> <label class=md-nav__title for=__nav_3_15> <span class="md-nav__icon md-icon"></span> DevTools Patterns (P01-P22) </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../devtools/ class=md-nav__link> <span class=md-ellipsis> Overview </span> </a> </li> <li class=md-nav__item> <a href=../../devtools/P01-Agent-Patterns-Toolbox/ class=md-nav__link> <span class=md-ellipsis> P01 - Agent Patterns Toolbox </span> </a> </li> <li class=md-nav__item> <a href=../../devtools/P02-Requirements-Engine/ class=md-nav__link> <span class=md-ellipsis> P02 - Requirements Engine </span> </a> </li> <li class=md-nav__item> <a href=../../devtools/P03-Scrum-Agent/ class=md-nav__link> <span class=md-ellipsis> P03 - Scrum Agent </span> </a> </li> <li class=md-nav__item> <a href=../../devtools/P04-Repo-Librarian/ class=md-nav__link> <span class=md-ellipsis> P04 - Repo Librarian </span> </a> </li> <li class=md-nav__item> <a href=../../devtools/P05-Scaffolder-Agent/ class=md-nav__link> <span class=md-ellipsis> P05 - Scaffolder Agent </span> </a> </li> <li class=md-nav__item> <a href=../../devtools/P06-Review-Agent/ class=md-nav__link> <span class=md-ellipsis> P06 - Review Agent </span> </a> </li> <li class=md-nav__item> <a href=../../devtools/P07-Testing-Failure-Explainer/ class=md-nav__link> <span class=md-ellipsis> P07 - Testing & Failure Explainer </span> </a> </li> <li class=md-nav__item> <a href=../../devtools/P08-CICD-Guardian/ class=md-nav__link> <span class=md-ellipsis> P08 - CI/CD Guardian </span> </a> </li> <li class=md-nav__item> <a href=../../devtools/P09-Runbook-SRE-Agent/ class=md-nav__link> <span class=md-ellipsis> P09 - Runbook & SRE Agent </span> </a> </li> <li class=md-nav__item> <a href=../../devtools/P10-Metrics-Insight-Agent/ class=md-nav__link> <span class=md-ellipsis> P10 - Metrics & Insight Agent </span> </a> </li> <li class=md-nav__item> <a href=../../devtools/P11-Security-Compliance-Helper/ class=md-nav__link> <span class=md-ellipsis> P11 - Security & Compliance Helper </span> </a> </li> <li class=md-nav__item> <a href=../../devtools/P12-UX-Copy-Accessibility-Agent/ class=md-nav__link> <span class=md-ellipsis> P12 - UX, Copy & Accessibility Agent </span> </a> </li> <li class=md-nav__item> <a href=../../devtools/P13-Onboarding-Sandbox-Coach/ class=md-nav__link> <span class=md-ellipsis> P13 - Onboarding & Sandbox Coach </span> </a> </li> <li class=md-nav__item> <a href=../../devtools/P14-DevOps-LiveOps-Companion/ class=md-nav__link> <span class=md-ellipsis> P14 - DevOps LiveOps Companion </span> </a> </li> <li class=md-nav__item> <a href=../../devtools/P15-Dev-Master-Orchestrator/ class=md-nav__link> <span class=md-ellipsis> P15 - Dev Master Orchestrator </span> </a> </li> <li class=md-nav__item> <a href=../../devtools/P16-Awareness-Protocol/ class=md-nav__link> <span class=md-ellipsis> P16 - Awareness Protocol </span> </a> </li> <li class=md-nav__item> <a href=../../devtools/P17-Swarm-PR-Review/ class=md-nav__link> <span class=md-ellipsis> P17 - Swarm PR Review </span> </a> </li> <li class=md-nav__item> <a href=../../devtools/P18-Tool-API-Auto-Onboarding/ class=md-nav__link> <span class=md-ellipsis> P18 - Tool/API Auto-Onboarding </span> </a> </li> <li class=md-nav__item> <a href=../../devtools/P19-Action-Classification-Safety/ class=md-nav__link> <span class=md-ellipsis> P19 - Action Classification & Safety </span> </a> </li> <li class=md-nav__item> <a href=../../devtools/P20-Continuous-Self-Improvement/ class=md-nav__link> <span class=md-ellipsis> P20 - Continuous Self-Improvement </span> </a> </li> <li class=md-nav__item> <a href=../../devtools/P21-Provenance-Fingerprinting/ class=md-nav__link> <span class=md-ellipsis> P21 - Provenance & Fingerprinting </span> </a> </li> <li class=md-nav__item> <a href=../../devtools/P22-Documentation-Publishing-Bot/ class=md-nav__link> <span class=md-ellipsis> P22 - Documentation Publishing Bot </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--section md-nav__item--nested"> <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type=checkbox id=__nav_3_16> <label class=md-nav__link for=__nav_3_16 id=__nav_3_16_label tabindex> <span class=md-ellipsis> Service Personas (SP00-SP02) </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_3_16_label aria-expanded=false> <label class=md-nav__title for=__nav_3_16> <span class="md-nav__icon md-icon"></span> Service Personas (SP00-SP02) </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../personas/SP00-Senior-Advisor/ class=md-nav__link> <span class=md-ellipsis> Overview </span> </a> </li> <li class=md-nav__item> <a href=../../personas/SP01-Data-Ingestion/ class=md-nav__link> <span class=md-ellipsis> SP01 - Data Ingestion </span> </a> </li> <li class=md-nav__item> <a href=../../personas/SP02-ATO-Auditor/ class=md-nav__link> <span class=md-ellipsis> SP02 - ATO Auditor </span> </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--section md-nav__item--nested"> <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type=checkbox id=__nav_4> <label class=md-nav__link for=__nav_4 id=__nav_4_label tabindex> <span class=md-ellipsis> EVA Sovereign UI Book </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=1 aria-labelledby=__nav_4_label aria-expanded=false> <label class=md-nav__title for=__nav_4> <span class="md-nav__icon md-icon"></span> EVA Sovereign UI Book </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../eva-sovereign-ui-book/00-introduction/ class=md-nav__link> <span class=md-ellipsis> Introduction </span> </a> </li> <li class=md-nav__item> <a href=../../../eva-sovereign-ui-book/01-getting-started/ class=md-nav__link> <span class=md-ellipsis> Getting Started </span> </a> </li> <li class=md-nav__item> <a href=../../../eva-sovereign-ui-book/02-design-principles/ class=md-nav__link> <span class=md-ellipsis> Design Principles </span> </a> </li> <li class=md-nav__item> <a href=../../../eva-sovereign-ui-book/03-components-overview/ class=md-nav__link> <span class=md-ellipsis> Components Overview </span> </a> </li> <li class=md-nav__item> <a href=../../../eva-sovereign-ui-book/04-api-reference/ class=md-nav__link> <span class=md-ellipsis> API Reference </span> </a> </li> <li class=md-nav__item> <a href=../../../eva-sovereign-ui-book/05-usage-examples/ class=md-nav__link> <span class=md-ellipsis> Usage Examples </span> </a> </li> <li class=md-nav__item> <a href=../../../eva-sovereign-ui-book/06-accessibility/ class=md-nav__link> <span class=md-ellipsis> Accessibility </span> </a> </li> <li class=md-nav__item> <a href=../../../eva-sovereign-ui-book/07-internationalization/ class=md-nav__link> <span class=md-ellipsis> Internationalization </span> </a> </li> <li class=md-nav__item> <a href=../../../eva-sovereign-ui-book/08-theming/ class=md-nav__link> <span class=md-ellipsis> Theming </span> </a> </li> <li class=md-nav__item> <a href=../../../eva-sovereign-ui-book/09-contributing/ class=md-nav__link> <span class=md-ellipsis> Contributing </span> <span class="md-status md-status--published"></span> </a> </li> <li class=md-nav__item> <a href=../../../eva-sovereign-ui-book/10-appendices/ class=md-nav__link> <span class=md-ellipsis> Appendices </span> <span class="md-status md-status--published"></span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--section md-nav__item--nested"> <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type=checkbox id=__nav_5> <label class=md-nav__link for=__nav_5 id=__nav_5_label tabindex> <span class=md-ellipsis> Compliance </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=1 aria-labelledby=__nav_5_label aria-expanded=false> <label class=md-nav__title for=__nav_5> <span class="md-nav__icon md-icon"></span> Compliance </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../compliance/ class=md-nav__link> <span class=md-ellipsis> Overview </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--section md-nav__item--nested"> <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type=checkbox id=__nav_6> <label class=md-nav__link for=__nav_6 id=__nav_6_label tabindex> <span class=md-ellipsis> Architecture </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=1 aria-labelledby=__nav_6_label aria-expanded=false> <label class=md-nav__title for=__nav_6> <span class="md-nav__icon md-icon"></span> Architecture </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../architecture/roadmap.md class=md-nav__link> <span class=md-ellipsis> Product Roadmap </span> </a> </li> </ul> </nav> </li> </ul> </nav> </div> </div> </div> <div class="md-sidebar md-sidebar--secondary" data-md-component=sidebar data-md-type=toc> <div class=md-sidebar__scrollwrap> <div class=md-sidebar__inner> <nav class="md-nav md-nav--secondary" aria-label="Table of contents"> <label class=md-nav__title for=__toc> <span class="md-nav__icon md-icon"></span> Table of contents </label> <ul class=md-nav__list data-md-component=toc data-md-scrollfix> <li class=md-nav__item> <a href=#chapter-overview class=md-nav__link> <span class=md-ellipsis> üìñ Chapter Overview </span> </a> </li> <li class=md-nav__item> <a href=#role-definition-and-purpose class=md-nav__link> <span class=md-ellipsis> üéØ Role Definition and Purpose </span> </a> <nav class=md-nav aria-label="üéØ Role Definition and Purpose"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#primary-role class=md-nav__link> <span class=md-ellipsis> Primary Role </span> </a> </li> <li class=md-nav__item> <a href=#mission-statement class=md-nav__link> <span class=md-ellipsis> Mission Statement </span> </a> </li> <li class=md-nav__item> <a href=#value-proposition class=md-nav__link> <span class=md-ellipsis> Value Proposition </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#responsibilities-and-capabilities class=md-nav__link> <span class=md-ellipsis> üõ†Ô∏è Responsibilities and Capabilities </span> </a> <nav class=md-nav aria-label="üõ†Ô∏è Responsibilities and Capabilities"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#core-responsibilities class=md-nav__link> <span class=md-ellipsis> Core Responsibilities </span> </a> </li> <li class=md-nav__item> <a href=#supporting-responsibilities class=md-nav__link> <span class=md-ellipsis> Supporting Responsibilities </span> </a> </li> <li class=md-nav__item> <a href=#capabilities-matrix class=md-nav__link> <span class=md-ellipsis> Capabilities Matrix </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#when-to-use-p09 class=md-nav__link> <span class=md-ellipsis> üöÄ When to Use P09 </span> </a> <nav class=md-nav aria-label="üöÄ When to Use P09"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#primary-use-cases class=md-nav__link> <span class=md-ellipsis> Primary Use Cases </span> </a> </li> <li class=md-nav__item> <a href=#when-not-to-use-p09 class=md-nav__link> <span class=md-ellipsis> When NOT to Use P09 </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#sample-prompts-and-workflows class=md-nav__link> <span class=md-ellipsis> üí° Sample Prompts and Workflows </span> </a> <nav class=md-nav aria-label="üí° Sample Prompts and Workflows"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#system-prompt-for-ai-agents class=md-nav__link> <span class=md-ellipsis> System Prompt (For AI Agents) </span> </a> </li> <li class=md-nav__item> <a href=#task-prompts-for-humans class=md-nav__link> <span class=md-ellipsis> Task Prompts (For Humans) </span> </a> </li> <li class=md-nav__item> <a href=#2-scale-connection-pool-10-minutes class=md-nav__link> <span class=md-ellipsis> 2. Scale Connection Pool (10 minutes) </span> </a> </li> <li class=md-nav__item> <a href=#3-post-mitigation-validation-5-minutes class=md-nav__link> <span class=md-ellipsis> 3. Post-Mitigation Validation (5 minutes) </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#prevention class=md-nav__link> <span class=md-ellipsis> Prevention </span> </a> <nav class=md-nav aria-label=Prevention> <ul class=md-nav__list> <li class=md-nav__item> <a href=#immediate-within-1-sprint class=md-nav__link> <span class=md-ellipsis> Immediate (within 1 sprint) </span> </a> </li> <li class=md-nav__item> <a href=#long-term-within-1-quarter class=md-nav__link> <span class=md-ellipsis> Long-term (within 1 quarter) </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#related-incidents class=md-nav__link> <span class=md-ellipsis> Related Incidents </span> </a> </li> </ul> </nav> </div> </div> </div> <div class=md-content data-md-component=content> <article class="md-content__inner md-typeset"> <h1 id=chapter-p09-runbook-sre-agent>Chapter P09: Runbook &amp; SRE Agent<a class=headerlink href=#chapter-p09-runbook-sre-agent title="Permanent link">&para;</a></h1> <p><strong>Pattern Code</strong>: P09 <strong>Short Code</strong>: SRE <strong>Name</strong>: Runbook &amp; SRE Agent <strong>Type</strong>: DevTools Pattern <strong>Scope</strong>: Site Reliability Engineering, Incident Response, Operational Documentation <strong>Maturity</strong>: Stable <strong>Autonomy Level</strong>: C1 (Human-on-the-loop)</p> <hr> <h2 id=chapter-overview>üìñ Chapter Overview<a class=headerlink href=#chapter-overview title="Permanent link">&para;</a></h2> <p>The Runbook &amp; SRE Agent (P09-SRE) is the operational knowledge automation engine for the EVA Suite. It transforms incidents, alerts, and operational learnings into standardized, actionable runbooks that reduce Mean Time to Recovery (MTTR) and improve incident response consistency.</p> <p>Without P09, incident response knowledge lives in individuals' heads or scattered documents. With P09, every incident becomes a learning opportunity, automatically captured as a runbook that guides future responders through proven resolution steps.</p> <p>P09 operates at <strong>C1 autonomy</strong> (human-on-the-loop): it automatically generates runbook drafts from incident postmortems, updates alert response playbooks, and suggests improvements to operational procedures, while humans review and approve runbooks before they become official.</p> <hr> <h2 id=role-definition-and-purpose>üéØ Role Definition and Purpose<a class=headerlink href=#role-definition-and-purpose title="Permanent link">&para;</a></h2> <h3 id=primary-role>Primary Role<a class=headerlink href=#primary-role title="Permanent link">&para;</a></h3> <p><strong>P09-SRE</strong> serves as the <strong>Operational Knowledge Curator</strong> and <strong>Incident Response Automator</strong> for the EVA Autonomous Agile Command. It ensures:</p> <ol> <li><strong>Knowledge Capture</strong>: Incidents are transformed into reusable runbooks</li> <li><strong>Response Consistency</strong>: Standardized playbooks guide on-call engineers</li> <li><strong>MTTR Reduction</strong>: Proven resolution steps accelerate incident response</li> <li><strong>Continuous Improvement</strong>: Each incident improves operational documentation</li> </ol> <h3 id=mission-statement>Mission Statement<a class=headerlink href=#mission-statement title="Permanent link">&para;</a></h3> <blockquote> <p>"Transform every incident into institutional knowledge through automated runbook generation, ensuring faster, more consistent incident response across all EVA Suite products."</p> </blockquote> <h3 id=value-proposition>Value Proposition<a class=headerlink href=#value-proposition title="Permanent link">&para;</a></h3> <p><strong>For Product Owners</strong>: - Reduce operational costs through faster incident resolution - Improve service reliability with standardized response procedures - Build institutional knowledge independent of individual team members - Meet SLA commitments through predictable MTTR</p> <p><strong>For On-Call Engineers</strong>: - Step-by-step guidance during high-pressure incidents - Proven resolution steps (not guesswork) - Clear escalation paths when runbooks don't cover scenario - Reduced cognitive load during stressful situations</p> <p><strong>For Operations</strong>: - Automated runbook generation from incidents - Alert-to-runbook mapping reduces alert fatigue - Trend analysis identifies systemic issues - Continuous improvement through incident learnings</p> <hr> <h2 id=responsibilities-and-capabilities>üõ†Ô∏è Responsibilities and Capabilities<a class=headerlink href=#responsibilities-and-capabilities title="Permanent link">&para;</a></h2> <h3 id=core-responsibilities>Core Responsibilities<a class=headerlink href=#core-responsibilities title="Permanent link">&para;</a></h3> <ol> <li><strong>Generate Runbooks from Incidents</strong></li> <li>Parse incident postmortems (GitHub Issues)</li> <li>Extract timeline, root cause, resolution steps</li> <li>Create structured runbook with validated procedures</li> <li> <p>Link related incidents for pattern recognition</p> </li> <li> <p><strong>Maintain Alert Response Playbooks</strong></p> </li> <li>Map alerts to runbooks (1:many relationship)</li> <li>Define triage steps for each alert type</li> <li>Document escalation procedures</li> <li> <p>Update playbooks based on incident learnings</p> </li> <li> <p><strong>Standardize Operational Procedures</strong></p> </li> <li>Define runbook structure and format</li> <li>Enforce consistency across all runbooks</li> <li>Validate runbook completeness</li> <li> <p>Version control operational documentation</p> </li> <li> <p><strong>Enable Incident Response Automation</strong></p> </li> <li>Generate diagnostic scripts for common issues</li> <li>Provide copy-paste command sequences</li> <li>Validate expected output for each step</li> <li>Automate runbook execution (C2+ patterns)</li> </ol> <h3 id=supporting-responsibilities>Supporting Responsibilities<a class=headerlink href=#supporting-responsibilities title="Permanent link">&para;</a></h3> <ol> <li><strong>Incident Pattern Analysis</strong></li> <li>Identify recurring incident types</li> <li>Suggest preventive measures</li> <li>Recommend automation opportunities</li> <li> <p>Flag systemic issues to Product Owner</p> </li> <li> <p><strong>MTTR Tracking and Optimization</strong></p> </li> <li>Measure incident response times</li> <li>Identify bottlenecks in resolution process</li> <li>Suggest runbook improvements</li> <li> <p>Track effectiveness of runbook updates</p> </li> <li> <p><strong>Integration Points</strong></p> </li> <li>Coordinate with P08 (CI/CD Guardian) for deployment-related incidents</li> <li>Support P10 (Metrics Agent) with MTTR and incident trend data</li> <li>Work with P14 (LiveOps Companion) for real-time incident support</li> <li>Provide data to P11 (Security Helper) for security incident runbooks</li> </ol> <h3 id=capabilities-matrix>Capabilities Matrix<a class=headerlink href=#capabilities-matrix title="Permanent link">&para;</a></h3> <table> <thead> <tr> <th>Capability</th> <th>Automation Level</th> <th>Human Involvement</th> <th>Evidence Output</th> </tr> </thead> <tbody> <tr> <td><strong>Incident-to-Runbook</strong></td> <td>Semi-automated</td> <td>Review and approve draft</td> <td>Runbook markdown</td> </tr> <tr> <td><strong>Alert Playbook Generation</strong></td> <td>Semi-automated</td> <td>Validate triage steps</td> <td>Alert response docs</td> </tr> <tr> <td><strong>Runbook Execution Guidance</strong></td> <td>Fully automated</td> <td>Execute commands manually</td> <td>Command output logs</td> </tr> <tr> <td><strong>Trend Analysis</strong></td> <td>Fully automated</td> <td>Review recommendations</td> <td>Incident pattern report</td> </tr> <tr> <td><strong>MTTR Tracking</strong></td> <td>Fully automated</td> <td>Action improvement items</td> <td>MTTR dashboard</td> </tr> <tr> <td><strong>Runbook Validation</strong></td> <td>Automated testing</td> <td>Approve for production use</td> <td>Test execution logs</td> </tr> </tbody> </table> <hr> <h2 id=when-to-use-p09>üöÄ When to Use P09<a class=headerlink href=#when-to-use-p09 title="Permanent link">&para;</a></h2> <h3 id=primary-use-cases>Primary Use Cases<a class=headerlink href=#primary-use-cases title="Permanent link">&para;</a></h3> <h4 id=1-post-incident-runbook-creation>1. Post-Incident Runbook Creation<a class=headerlink href=#1-post-incident-runbook-creation title="Permanent link">&para;</a></h4> <p><strong>Scenario</strong>: Production incident has been resolved; need to document the resolution process.</p> <p><strong>Action</strong>: Use P09 to generate runbook from incident postmortem.</p> <p><strong>Example</strong>: <div class="language-powershell highlight"><pre><span></span><code><span id=__span-0-1><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a><span class=c># Generate runbook from GitHub Issue</span>
</span><span id=__span-0-2><a id=__codelineno-0-2 name=__codelineno-0-2 href=#__codelineno-0-2></a><span class=n>pwsh</span> <span class=n>tools</span><span class=p>/</span><span class=n>runbooks</span><span class=p>/</span><span class=n>analyze-incident</span><span class=p>.</span><span class=n>ps1</span> <span class=n>-IncidentId</span> <span class=s2>&quot;INCIDENT-42&quot;</span>
</span><span id=__span-0-3><a id=__codelineno-0-3 name=__codelineno-0-3 href=#__codelineno-0-3></a>
</span><span id=__span-0-4><a id=__codelineno-0-4 name=__codelineno-0-4 href=#__codelineno-0-4></a><span class=c># Output:</span>
</span><span id=__span-0-5><a id=__codelineno-0-5 name=__codelineno-0-5 href=#__codelineno-0-5></a><span class=c># ‚úÖ Runbook generated: runbooks/incidents/incident-42-api-timeout.md</span>
</span><span id=__span-0-6><a id=__codelineno-0-6 name=__codelineno-0-6 href=#__codelineno-0-6></a><span class=c># üìã Root cause: Database connection pool exhausted</span>
</span><span id=__span-0-7><a id=__codelineno-0-7 name=__codelineno-0-7 href=#__codelineno-0-7></a><span class=c># üîß Resolution: Increased max_connections from 100 to 200</span>
</span><span id=__span-0-8><a id=__codelineno-0-8 name=__codelineno-0-8 href=#__codelineno-0-8></a><span class=c># ‚è±Ô∏è MTTR: 23 minutes</span>
</span></code></pre></div></p> <h4 id=2-alert-response-playbook-setup>2. Alert Response Playbook Setup<a class=headerlink href=#2-alert-response-playbook-setup title="Permanent link">&para;</a></h4> <p><strong>Scenario</strong>: New monitoring alert configured; need response playbook for on-call team.</p> <p><strong>Action</strong>: Create standardized alert playbook with P09 template.</p> <p><strong>Example</strong>: <div class="language-markdown highlight"><pre><span></span><code><span id=__span-1-1><a id=__codelineno-1-1 name=__codelineno-1-1 href=#__codelineno-1-1></a><span class=gh># Alert: API Error Rate &gt;5%</span>
</span><span id=__span-1-2><a id=__codelineno-1-2 name=__codelineno-1-2 href=#__codelineno-1-2></a>
</span><span id=__span-1-3><a id=__codelineno-1-3 name=__codelineno-1-3 href=#__codelineno-1-3></a><span class=gu>## Immediate Actions (5 minutes)</span>
</span><span id=__span-1-4><a id=__codelineno-1-4 name=__codelineno-1-4 href=#__codelineno-1-4></a>
</span><span id=__span-1-5><a id=__codelineno-1-5 name=__codelineno-1-5 href=#__codelineno-1-5></a><span class=k>1.</span> <span class=gs>**Verify Alert**</span>
</span><span id=__span-1-6><a id=__codelineno-1-6 name=__codelineno-1-6 href=#__codelineno-1-6></a><span class=sb>   ```bash</span>
</span><span id=__span-1-7><a id=__codelineno-1-7 name=__codelineno-1-7 href=#__codelineno-1-7></a><span class=w>   </span>az<span class=w> </span>monitor<span class=w> </span>app-insights<span class=w> </span>query<span class=w> </span>--app<span class=w> </span>&lt;id&gt;<span class=w> </span>--analytics-query<span class=w> </span><span class=s2>&quot;requests | where timestamp &gt; ago(5m) | summarize ErrorRate = countif(success == false) * 100.0 / count()&quot;</span>
</span><span id=__span-1-8><a id=__codelineno-1-8 name=__codelineno-1-8 href=#__codelineno-1-8></a><span class=sb>   ```</span>
</span><span id=__span-1-9><a id=__codelineno-1-9 name=__codelineno-1-9 href=#__codelineno-1-9></a>
</span><span id=__span-1-10><a id=__codelineno-1-10 name=__codelineno-1-10 href=#__codelineno-1-10></a><span class=k>2.</span> <span class=gs>**Assess Impact**</span>
</span><span id=__span-1-11><a id=__codelineno-1-11 name=__codelineno-1-11 href=#__codelineno-1-11></a><span class=w>   </span><span class=k>-</span><span class=w> </span>Check error rate trend (spike vs sustained)
</span><span id=__span-1-12><a id=__codelineno-1-12 name=__codelineno-1-12 href=#__codelineno-1-12></a><span class=w>   </span><span class=k>-</span><span class=w> </span>Identify affected endpoints
</span><span id=__span-1-13><a id=__codelineno-1-13 name=__codelineno-1-13 href=#__codelineno-1-13></a><span class=w>   </span><span class=k>-</span><span class=w> </span>Count impacted users
</span><span id=__span-1-14><a id=__codelineno-1-14 name=__codelineno-1-14 href=#__codelineno-1-14></a>
</span><span id=__span-1-15><a id=__codelineno-1-15 name=__codelineno-1-15 href=#__codelineno-1-15></a><span class=k>3.</span> <span class=gs>**Triage**</span>
</span><span id=__span-1-16><a id=__codelineno-1-16 name=__codelineno-1-16 href=#__codelineno-1-16></a><span class=w>   </span><span class=k>-</span><span class=w> </span>If spike: Check recent deployments
</span><span id=__span-1-17><a id=__codelineno-1-17 name=__codelineno-1-17 href=#__codelineno-1-17></a><span class=w>   </span><span class=k>-</span><span class=w> </span>If sustained: Check database/dependency health
</span><span id=__span-1-18><a id=__codelineno-1-18 name=__codelineno-1-18 href=#__codelineno-1-18></a><span class=w>   </span><span class=k>-</span><span class=w> </span>If widespread: Escalate to VP Engineering
</span></code></pre></div></p> <h4 id=3-mttr-reduction-initiative>3. MTTR Reduction Initiative<a class=headerlink href=#3-mttr-reduction-initiative title="Permanent link">&para;</a></h4> <p><strong>Scenario</strong>: Service MTTR is 2+ hours (target: &lt;1 hour); need to optimize incident response.</p> <p><strong>Action</strong>: Use P09 to analyze incident patterns and suggest automation.</p> <p><strong>Example</strong>: <div class="language-powershell highlight"><pre><span></span><code><span id=__span-2-1><a id=__codelineno-2-1 name=__codelineno-2-1 href=#__codelineno-2-1></a><span class=c># Analyze incidents from last 90 days</span>
</span><span id=__span-2-2><a id=__codelineno-2-2 name=__codelineno-2-2 href=#__codelineno-2-2></a><span class=n>pwsh</span> <span class=n>tools</span><span class=p>/</span><span class=n>runbooks</span><span class=p>/</span><span class=n>analyze-mttr</span><span class=p>.</span><span class=n>ps1</span> <span class=n>-Days</span> <span class=n>90</span>
</span><span id=__span-2-3><a id=__codelineno-2-3 name=__codelineno-2-3 href=#__codelineno-2-3></a>
</span><span id=__span-2-4><a id=__codelineno-2-4 name=__codelineno-2-4 href=#__codelineno-2-4></a><span class=c># Output:</span>
</span><span id=__span-2-5><a id=__codelineno-2-5 name=__codelineno-2-5 href=#__codelineno-2-5></a><span class=c># üìä Total Incidents: 24</span>
</span><span id=__span-2-6><a id=__codelineno-2-6 name=__codelineno-2-6 href=#__codelineno-2-6></a><span class=c># ‚è±Ô∏è Avg MTTR: 2h 14m (TARGET: &lt;1h)</span>
</span><span id=__span-2-7><a id=__codelineno-2-7 name=__codelineno-2-7 href=#__codelineno-2-7></a><span class=c># üî• Top Incident Types:</span>
</span><span id=__span-2-8><a id=__codelineno-2-8 name=__codelineno-2-8 href=#__codelineno-2-8></a><span class=c>#   1. Database connection timeout (8 incidents, avg MTTR 3h 2m)</span>
</span><span id=__span-2-9><a id=__codelineno-2-9 name=__codelineno-2-9 href=#__codelineno-2-9></a><span class=c>#   2. API rate limiting (5 incidents, avg MTTR 1h 45m)</span>
</span><span id=__span-2-10><a id=__codelineno-2-10 name=__codelineno-2-10 href=#__codelineno-2-10></a><span class=c>#   3. Cache invalidation (4 incidents, avg MTTR 45m)</span>
</span><span id=__span-2-11><a id=__codelineno-2-11 name=__codelineno-2-11 href=#__codelineno-2-11></a><span class=c>#</span>
</span><span id=__span-2-12><a id=__codelineno-2-12 name=__codelineno-2-12 href=#__codelineno-2-12></a><span class=c># üí° Recommendations:</span>
</span><span id=__span-2-13><a id=__codelineno-2-13 name=__codelineno-2-13 href=#__codelineno-2-13></a><span class=c>#   - Automate database connection pool scaling (saves ~1.5h)</span>
</span><span id=__span-2-14><a id=__codelineno-2-14 name=__codelineno-2-14 href=#__codelineno-2-14></a><span class=c>#   - Create pre-emptive rate limit alerts (prevents 40% incidents)</span>
</span><span id=__span-2-15><a id=__codelineno-2-15 name=__codelineno-2-15 href=#__codelineno-2-15></a><span class=c>#   - Document cache invalidation runbook (saves ~20m)</span>
</span></code></pre></div></p> <h4 id=4-on-call-engineer-onboarding>4. On-Call Engineer Onboarding<a class=headerlink href=#4-on-call-engineer-onboarding title="Permanent link">&para;</a></h4> <p><strong>Scenario</strong>: New team member joining on-call rotation; needs quick ramp-up on incident response.</p> <p><strong>Action</strong>: Provide P09 runbook catalog and training scenarios.</p> <p><strong>Example</strong>: <div class="language-markdown highlight"><pre><span></span><code><span id=__span-3-1><a id=__codelineno-3-1 name=__codelineno-3-1 href=#__codelineno-3-1></a><span class=gh># On-Call Onboarding Checklist</span>
</span><span id=__span-3-2><a id=__codelineno-3-2 name=__codelineno-3-2 href=#__codelineno-3-2></a>
</span><span id=__span-3-3><a id=__codelineno-3-3 name=__codelineno-3-3 href=#__codelineno-3-3></a><span class=gu>## Week 1: Runbook Familiarization</span>
</span><span id=__span-3-4><a id=__codelineno-3-4 name=__codelineno-3-4 href=#__codelineno-3-4></a><span class=k>- [ ]</span> Read all alert playbooks (<span class=sb>`runbooks/alerts/`</span>)
</span><span id=__span-3-5><a id=__codelineno-3-5 name=__codelineno-3-5 href=#__codelineno-3-5></a><span class=k>- [ ]</span> Review last 5 incident runbooks (<span class=sb>`runbooks/incidents/`</span>)
</span><span id=__span-3-6><a id=__codelineno-3-6 name=__codelineno-3-6 href=#__codelineno-3-6></a><span class=k>- [ ]</span> Complete runbook execution quiz
</span><span id=__span-3-7><a id=__codelineno-3-7 name=__codelineno-3-7 href=#__codelineno-3-7></a>
</span><span id=__span-3-8><a id=__codelineno-3-8 name=__codelineno-3-8 href=#__codelineno-3-8></a><span class=gu>## Week 2: Shadow On-Call</span>
</span><span id=__span-3-9><a id=__codelineno-3-9 name=__codelineno-3-9 href=#__codelineno-3-9></a><span class=k>- [ ]</span> Shadow current on-call engineer
</span><span id=__span-3-10><a id=__codelineno-3-10 name=__codelineno-3-10 href=#__codelineno-3-10></a><span class=k>- [ ]</span> Practice runbook execution in staging
</span><span id=__span-3-11><a id=__codelineno-3-11 name=__codelineno-3-11 href=#__codelineno-3-11></a><span class=k>- [ ]</span> Review MTTR trends dashboard
</span><span id=__span-3-12><a id=__codelineno-3-12 name=__codelineno-3-12 href=#__codelineno-3-12></a>
</span><span id=__span-3-13><a id=__codelineno-3-13 name=__codelineno-3-13 href=#__codelineno-3-13></a><span class=gu>## Week 3: Supervised On-Call</span>
</span><span id=__span-3-14><a id=__codelineno-3-14 name=__codelineno-3-14 href=#__codelineno-3-14></a><span class=k>- [ ]</span> Take on-call shifts with backup
</span><span id=__span-3-15><a id=__codelineno-3-15 name=__codelineno-3-15 href=#__codelineno-3-15></a><span class=k>- [ ]</span> Document 1 new runbook from incident
</span><span id=__span-3-16><a id=__codelineno-3-16 name=__codelineno-3-16 href=#__codelineno-3-16></a><span class=k>- [ ]</span> Suggest 1 runbook improvement
</span></code></pre></div></p> <h3 id=when-not-to-use-p09>When NOT to Use P09<a class=headerlink href=#when-not-to-use-p09 title="Permanent link">&para;</a></h3> <ul> <li><strong>Don't use P09 for incident response automation (C2)</strong> - P09 generates documentation; P14 (LiveOps Companion) handles real-time response</li> <li><strong>Don't use P09 to replace postmortems</strong> - P09 supplements, not replaces, detailed incident analysis</li> <li><strong>Don't use P09 for non-incident runbooks</strong> - Use standard docs for maintenance procedures</li> </ul> <hr> <h2 id=sample-prompts-and-workflows>üí° Sample Prompts and Workflows<a class=headerlink href=#sample-prompts-and-workflows title="Permanent link">&para;</a></h2> <h3 id=system-prompt-for-ai-agents>System Prompt (For AI Agents)<a class=headerlink href=#system-prompt-for-ai-agents title="Permanent link">&para;</a></h3> <div class="language-markdown highlight"><pre><span></span><code><span id=__span-4-1><a id=__codelineno-4-1 name=__codelineno-4-1 href=#__codelineno-4-1></a>You are P09-SRE (Runbook &amp; SRE Agent), the Operational Knowledge Curator for EVA Suite.
</span><span id=__span-4-2><a id=__codelineno-4-2 name=__codelineno-4-2 href=#__codelineno-4-2></a>
</span><span id=__span-4-3><a id=__codelineno-4-3 name=__codelineno-4-3 href=#__codelineno-4-3></a><span class=gs>**Your Capabilities**</span>:
</span><span id=__span-4-4><a id=__codelineno-4-4 name=__codelineno-4-4 href=#__codelineno-4-4></a><span class=k>1.</span> Generate runbooks from incident postmortems (GitHub Issues)
</span><span id=__span-4-5><a id=__codelineno-4-5 name=__codelineno-4-5 href=#__codelineno-4-5></a><span class=k>2.</span> Create standardized alert response playbooks
</span><span id=__span-4-6><a id=__codelineno-4-6 name=__codelineno-4-6 href=#__codelineno-4-6></a><span class=k>3.</span> Analyze incident patterns and suggest improvements
</span><span id=__span-4-7><a id=__codelineno-4-7 name=__codelineno-4-7 href=#__codelineno-4-7></a><span class=k>4.</span> Track MTTR trends and identify optimization opportunities
</span><span id=__span-4-8><a id=__codelineno-4-8 name=__codelineno-4-8 href=#__codelineno-4-8></a><span class=k>5.</span> Validate runbook completeness and accuracy
</span><span id=__span-4-9><a id=__codelineno-4-9 name=__codelineno-4-9 href=#__codelineno-4-9></a>
</span><span id=__span-4-10><a id=__codelineno-4-10 name=__codelineno-4-10 href=#__codelineno-4-10></a><span class=gs>**Your Limitations**</span>:
</span><span id=__span-4-11><a id=__codelineno-4-11 name=__codelineno-4-11 href=#__codelineno-4-11></a><span class=k>-</span><span class=w> </span>You do NOT execute runbooks (that&#39;s P14 LiveOps Companion)
</span><span id=__span-4-12><a id=__codelineno-4-12 name=__codelineno-4-12 href=#__codelineno-4-12></a><span class=k>-</span><span class=w> </span>You do NOT diagnose live incidents (provide runbooks, humans follow them)
</span><span id=__span-4-13><a id=__codelineno-4-13 name=__codelineno-4-13 href=#__codelineno-4-13></a><span class=k>-</span><span class=w> </span>You do NOT modify infrastructure (generate recommendations, humans implement)
</span><span id=__span-4-14><a id=__codelineno-4-14 name=__codelineno-4-14 href=#__codelineno-4-14></a>
</span><span id=__span-4-15><a id=__codelineno-4-15 name=__codelineno-4-15 href=#__codelineno-4-15></a><span class=gs>**Autonomy Level**</span>: C1 (Human-on-the-loop)
</span><span id=__span-4-16><a id=__codelineno-4-16 name=__codelineno-4-16 href=#__codelineno-4-16></a><span class=k>-</span><span class=w> </span>Automatically generate runbook drafts from incidents
</span><span id=__span-4-17><a id=__codelineno-4-17 name=__codelineno-4-17 href=#__codelineno-4-17></a><span class=k>-</span><span class=w> </span>Suggest runbook improvements based on patterns
</span><span id=__span-4-18><a id=__codelineno-4-18 name=__codelineno-4-18 href=#__codelineno-4-18></a><span class=k>-</span><span class=w> </span>Humans review and approve runbooks before production use
</span><span id=__span-4-19><a id=__codelineno-4-19 name=__codelineno-4-19 href=#__codelineno-4-19></a>
</span><span id=__span-4-20><a id=__codelineno-4-20 name=__codelineno-4-20 href=#__codelineno-4-20></a><span class=gs>**Output Format**</span>:
</span><span id=__span-4-21><a id=__codelineno-4-21 name=__codelineno-4-21 href=#__codelineno-4-21></a><span class=k>-</span><span class=w> </span>Runbook markdown with consistent structure
</span><span id=__span-4-22><a id=__codelineno-4-22 name=__codelineno-4-22 href=#__codelineno-4-22></a><span class=k>-</span><span class=w> </span>Step-by-step procedures with expected output
</span><span id=__span-4-23><a id=__codelineno-4-23 name=__codelineno-4-23 href=#__codelineno-4-23></a><span class=k>-</span><span class=w> </span>Command examples (copy-paste ready)
</span><span id=__span-4-24><a id=__codelineno-4-24 name=__codelineno-4-24 href=#__codelineno-4-24></a><span class=k>-</span><span class=w> </span>Escalation paths and timeboxes
</span><span id=__span-4-25><a id=__codelineno-4-25 name=__codelineno-4-25 href=#__codelineno-4-25></a>
</span><span id=__span-4-26><a id=__codelineno-4-26 name=__codelineno-4-26 href=#__codelineno-4-26></a><span class=gs>**Safety Rules**</span>:
</span><span id=__span-4-27><a id=__codelineno-4-27 name=__codelineno-4-27 href=#__codelineno-4-27></a><span class=k>-</span><span class=w> </span>ALWAYS include expected output for validation steps
</span><span id=__span-4-28><a id=__codelineno-4-28 name=__codelineno-4-28 href=#__codelineno-4-28></a><span class=k>-</span><span class=w> </span>ALWAYS provide rollback/recovery procedures
</span><span id=__span-4-29><a id=__codelineno-4-29 name=__codelineno-4-29 href=#__codelineno-4-29></a><span class=k>-</span><span class=w> </span>ALWAYS timebox diagnostic steps (avoid rabbit holes)
</span><span id=__span-4-30><a id=__codelineno-4-30 name=__codelineno-4-30 href=#__codelineno-4-30></a><span class=k>-</span><span class=w> </span>ALWAYS include escalation criteria
</span></code></pre></div> <h3 id=task-prompts-for-humans>Task Prompts (For Humans)<a class=headerlink href=#task-prompts-for-humans title="Permanent link">&para;</a></h3> <h4 id=prompt-1-generate-runbook-from-incident>Prompt 1: Generate Runbook from Incident<a class=headerlink href=#prompt-1-generate-runbook-from-incident title="Permanent link">&para;</a></h4> <div class="language-markdown highlight"><pre><span></span><code><span id=__span-5-1><a id=__codelineno-5-1 name=__codelineno-5-1 href=#__codelineno-5-1></a><span class=gs>**Task**</span>: Generate runbook from incident [incident-id]
</span><span id=__span-5-2><a id=__codelineno-5-2 name=__codelineno-5-2 href=#__codelineno-5-2></a>
</span><span id=__span-5-3><a id=__codelineno-5-3 name=__codelineno-5-3 href=#__codelineno-5-3></a><span class=gs>**Context**</span>:
</span><span id=__span-5-4><a id=__codelineno-5-4 name=__codelineno-5-4 href=#__codelineno-5-4></a><span class=k>-</span><span class=w> </span>Incident ID: [GitHub issue number]
</span><span id=__span-5-5><a id=__codelineno-5-5 name=__codelineno-5-5 href=#__codelineno-5-5></a><span class=k>-</span><span class=w> </span>Severity: [P0/P1/P2/P3]
</span><span id=__span-5-6><a id=__codelineno-5-6 name=__codelineno-5-6 href=#__codelineno-5-6></a><span class=k>-</span><span class=w> </span>MTTR: [actual time to resolution]
</span><span id=__span-5-7><a id=__codelineno-5-7 name=__codelineno-5-7 href=#__codelineno-5-7></a><span class=k>-</span><span class=w> </span>Root Cause: [brief summary]
</span><span id=__span-5-8><a id=__codelineno-5-8 name=__codelineno-5-8 href=#__codelineno-5-8></a>
</span><span id=__span-5-9><a id=__codelineno-5-9 name=__codelineno-5-9 href=#__codelineno-5-9></a><span class=gs>**Expected Output**</span>:
</span><span id=__span-5-10><a id=__codelineno-5-10 name=__codelineno-5-10 href=#__codelineno-5-10></a><span class=k>1.</span> Runbook markdown with structured sections
</span><span id=__span-5-11><a id=__codelineno-5-11 name=__codelineno-5-11 href=#__codelineno-5-11></a><span class=k>2.</span> Timeline extracted from incident comments
</span><span id=__span-5-12><a id=__codelineno-5-12 name=__codelineno-5-12 href=#__codelineno-5-12></a><span class=k>3.</span> Resolution steps validated and ordered
</span><span id=__span-5-13><a id=__codelineno-5-13 name=__codelineno-5-13 href=#__codelineno-5-13></a><span class=k>4.</span> Prevention recommendations included
</span></code></pre></div> <p><strong>Example Output</strong>: <div class="language-markdown highlight"><pre><span></span><code><span id=__span-6-1><a id=__codelineno-6-1 name=__codelineno-6-1 href=#__codelineno-6-1></a><span class=gh># Runbook: API Timeout Incident (Database Connection Pool Exhausted)</span>
</span><span id=__span-6-2><a id=__codelineno-6-2 name=__codelineno-6-2 href=#__codelineno-6-2></a>
</span><span id=__span-6-3><a id=__codelineno-6-3 name=__codelineno-6-3 href=#__codelineno-6-3></a><span class=gs>**Generated from**</span>: Incident <span class=ni>#42</span>
</span><span id=__span-6-4><a id=__codelineno-6-4 name=__codelineno-6-4 href=#__codelineno-6-4></a><span class=gs>**Severity**</span>: P1
</span><span id=__span-6-5><a id=__codelineno-6-5 name=__codelineno-6-5 href=#__codelineno-6-5></a><span class=gs>**MTTR**</span>: 23 minutes
</span><span id=__span-6-6><a id=__codelineno-6-6 name=__codelineno-6-6 href=#__codelineno-6-6></a><span class=gs>**Date**</span>: 2025-12-12
</span><span id=__span-6-7><a id=__codelineno-6-7 name=__codelineno-6-7 href=#__codelineno-6-7></a>
</span><span id=__span-6-8><a id=__codelineno-6-8 name=__codelineno-6-8 href=#__codelineno-6-8></a><span class=gu>## Symptoms</span>
</span><span id=__span-6-9><a id=__codelineno-6-9 name=__codelineno-6-9 href=#__codelineno-6-9></a>
</span><span id=__span-6-10><a id=__codelineno-6-10 name=__codelineno-6-10 href=#__codelineno-6-10></a><span class=k>-</span><span class=w> </span>API response time spikes to &gt;5 seconds
</span><span id=__span-6-11><a id=__codelineno-6-11 name=__codelineno-6-11 href=#__codelineno-6-11></a><span class=k>-</span><span class=w> </span>Error logs: <span class=sb>`psycopg2.OperationalError: FATAL: remaining connection slots are reserved`</span>
</span><span id=__span-6-12><a id=__codelineno-6-12 name=__codelineno-6-12 href=#__codelineno-6-12></a><span class=k>-</span><span class=w> </span>Alert: &quot;Database Connection Pool Utilization &gt;90%&quot;
</span><span id=__span-6-13><a id=__codelineno-6-13 name=__codelineno-6-13 href=#__codelineno-6-13></a>
</span><span id=__span-6-14><a id=__codelineno-6-14 name=__codelineno-6-14 href=#__codelineno-6-14></a><span class=gu>## Root Cause</span>
</span><span id=__span-6-15><a id=__codelineno-6-15 name=__codelineno-6-15 href=#__codelineno-6-15></a>
</span><span id=__span-6-16><a id=__codelineno-6-16 name=__codelineno-6-16 href=#__codelineno-6-16></a>Database connection pool exhausted due to:
</span><span id=__span-6-17><a id=__codelineno-6-17 name=__codelineno-6-17 href=#__codelineno-6-17></a><span class=k>1.</span> Increased traffic (20% above normal)
</span><span id=__span-6-18><a id=__codelineno-6-18 name=__codelineno-6-18 href=#__codelineno-6-18></a><span class=k>2.</span> Connection pool max_connections=100 (too low)
</span><span id=__span-6-19><a id=__codelineno-6-19 name=__codelineno-6-19 href=#__codelineno-6-19></a><span class=k>3.</span> Long-running queries not releasing connections
</span><span id=__span-6-20><a id=__codelineno-6-20 name=__codelineno-6-20 href=#__codelineno-6-20></a>
</span><span id=__span-6-21><a id=__codelineno-6-21 name=__codelineno-6-21 href=#__codelineno-6-21></a><span class=gu>## Resolution Steps</span>
</span><span id=__span-6-22><a id=__codelineno-6-22 name=__codelineno-6-22 href=#__codelineno-6-22></a>
</span><span id=__span-6-23><a id=__codelineno-6-23 name=__codelineno-6-23 href=#__codelineno-6-23></a><span class=gu>### 1. Immediate Mitigation (5 minutes)</span>
</span><span id=__span-6-24><a id=__codelineno-6-24 name=__codelineno-6-24 href=#__codelineno-6-24></a>
</span><span id=__span-6-25><a id=__codelineno-6-25 name=__codelineno-6-25 href=#__codelineno-6-25></a><span class=gs>**Objective**</span>: Restore service by freeing connections
</span><span id=__span-6-26><a id=__codelineno-6-26 name=__codelineno-6-26 href=#__codelineno-6-26></a>
</span><span id=__span-6-27><a id=__codelineno-6-27 name=__codelineno-6-27 href=#__codelineno-6-27></a>```bash
</span><span id=__span-6-28><a id=__codelineno-6-28 name=__codelineno-6-28 href=#__codelineno-6-28></a><span class=gh># Kill idle connections</span>
</span><span id=__span-6-29><a id=__codelineno-6-29 name=__codelineno-6-29 href=#__codelineno-6-29></a>sudo -u postgres psql -c &quot;SELECT pg_terminate_backend(pid) FROM pg_stat_activity WHERE state = &#39;idle&#39; AND query_start &lt; NOW() - INTERVAL &#39;5 minutes&#39;;&quot;
</span></code></pre></div></p> <p><strong>Expected Output</strong>: <div class="language-text highlight"><pre><span></span><code><span id=__span-7-1><a id=__codelineno-7-1 name=__codelineno-7-1 href=#__codelineno-7-1></a>pg_terminate_backend
</span><span id=__span-7-2><a id=__codelineno-7-2 name=__codelineno-7-2 href=#__codelineno-7-2></a>----------------------
</span><span id=__span-7-3><a id=__codelineno-7-3 name=__codelineno-7-3 href=#__codelineno-7-3></a> t
</span><span id=__span-7-4><a id=__codelineno-7-4 name=__codelineno-7-4 href=#__codelineno-7-4></a>(15 rows)
</span></code></pre></div></p> <p><strong>Verification</strong>: <div class="language-bash highlight"><pre><span></span><code><span id=__span-8-1><a id=__codelineno-8-1 name=__codelineno-8-1 href=#__codelineno-8-1></a><span class=c1># Check connection count</span>
</span><span id=__span-8-2><a id=__codelineno-8-2 name=__codelineno-8-2 href=#__codelineno-8-2></a>sudo<span class=w> </span>-u<span class=w> </span>postgres<span class=w> </span>psql<span class=w> </span>-c<span class=w> </span><span class=s2>&quot;SELECT count(*) FROM pg_stat_activity;&quot;</span>
</span></code></pre></div></p> <p><strong>Expected</strong>: Connection count drops below 80</p> <h3 id=2-scale-connection-pool-10-minutes>2. Scale Connection Pool (10 minutes)<a class=headerlink href=#2-scale-connection-pool-10-minutes title="Permanent link">&para;</a></h3> <p><strong>Objective</strong>: Prevent recurrence</p> <div class="language-bash highlight"><pre><span></span><code><span id=__span-9-1><a id=__codelineno-9-1 name=__codelineno-9-1 href=#__codelineno-9-1></a><span class=c1># Update PostgreSQL config</span>
</span><span id=__span-9-2><a id=__codelineno-9-2 name=__codelineno-9-2 href=#__codelineno-9-2></a>sudo<span class=w> </span>vim<span class=w> </span>/etc/postgresql/14/main/postgresql.conf
</span><span id=__span-9-3><a id=__codelineno-9-3 name=__codelineno-9-3 href=#__codelineno-9-3></a><span class=c1># max_connections = 200  (was 100)</span>
</span><span id=__span-9-4><a id=__codelineno-9-4 name=__codelineno-9-4 href=#__codelineno-9-4></a>
</span><span id=__span-9-5><a id=__codelineno-9-5 name=__codelineno-9-5 href=#__codelineno-9-5></a><span class=c1># Restart PostgreSQL</span>
</span><span id=__span-9-6><a id=__codelineno-9-6 name=__codelineno-9-6 href=#__codelineno-9-6></a>sudo<span class=w> </span>systemctl<span class=w> </span>restart<span class=w> </span>postgresql
</span><span id=__span-9-7><a id=__codelineno-9-7 name=__codelineno-9-7 href=#__codelineno-9-7></a>
</span><span id=__span-9-8><a id=__codelineno-9-8 name=__codelineno-9-8 href=#__codelineno-9-8></a><span class=c1># Verify</span>
</span><span id=__span-9-9><a id=__codelineno-9-9 name=__codelineno-9-9 href=#__codelineno-9-9></a>sudo<span class=w> </span>-u<span class=w> </span>postgres<span class=w> </span>psql<span class=w> </span>-c<span class=w> </span><span class=s2>&quot;SHOW max_connections;&quot;</span>
</span></code></pre></div> <p><strong>Expected Output</strong>: <code>max_connections | 200</code></p> <h3 id=3-post-mitigation-validation-5-minutes>3. Post-Mitigation Validation (5 minutes)<a class=headerlink href=#3-post-mitigation-validation-5-minutes title="Permanent link">&para;</a></h3> <p><strong>Objective</strong>: Confirm service restored</p> <div class="language-bash highlight"><pre><span></span><code><span id=__span-10-1><a id=__codelineno-10-1 name=__codelineno-10-1 href=#__codelineno-10-1></a><span class=c1># Check API health</span>
</span><span id=__span-10-2><a id=__codelineno-10-2 name=__codelineno-10-2 href=#__codelineno-10-2></a>curl<span class=w> </span>https://api.eva.gc.ca/health
</span><span id=__span-10-3><a id=__codelineno-10-3 name=__codelineno-10-3 href=#__codelineno-10-3></a>
</span><span id=__span-10-4><a id=__codelineno-10-4 name=__codelineno-10-4 href=#__codelineno-10-4></a><span class=c1># Monitor connection pool utilization</span>
</span><span id=__span-10-5><a id=__codelineno-10-5 name=__codelineno-10-5 href=#__codelineno-10-5></a>watch<span class=w> </span>-n<span class=w> </span><span class=m>5</span><span class=w> </span><span class=s1>&#39;sudo -u postgres psql -c &quot;SELECT count(*) FROM pg_stat_activity;&quot;&#39;</span>
</span></code></pre></div> <p><strong>Success Criteria</strong>: - Health endpoint returns 200 OK - Connection count stable at &lt;150 - Error rate &lt;1% for 10 minutes</p> <h2 id=prevention>Prevention<a class=headerlink href=#prevention title="Permanent link">&para;</a></h2> <h3 id=immediate-within-1-sprint>Immediate (within 1 sprint)<a class=headerlink href=#immediate-within-1-sprint title="Permanent link">&para;</a></h3> <ul class=task-list> <li class=task-list-item><label class=task-list-control><input type=checkbox disabled><span class=task-list-indicator></span></label> Add connection pool utilization alert at 70% threshold</li> <li class=task-list-item><label class=task-list-control><input type=checkbox disabled><span class=task-list-indicator></span></label> Implement query timeout (max 30s)</li> <li class=task-list-item><label class=task-list-control><input type=checkbox disabled><span class=task-list-indicator></span></label> Add connection pooler (PgBouncer) for better connection management</li> </ul> <h3 id=long-term-within-1-quarter>Long-term (within 1 quarter)<a class=headerlink href=#long-term-within-1-quarter title="Permanent link">&para;</a></h3> <ul class=task-list> <li class=task-list-item><label class=task-list-control><input type=checkbox disabled><span class=task-list-indicator></span></label> Optimize slow queries (identified 3 queries &gt;10s)</li> <li class=task-list-item><label class=task-list-control><input type=checkbox disabled><span class=task-list-indicator></span></label> Implement read replicas to distribute load</li> <li class=task-list-item><label class=task-list-control><input type=checkbox disabled><span class=task-list-indicator></span></label> Add auto-scaling for database instances</li> </ul> <h2 id=related-incidents>Related Incidents<a class=headerlink href=#related-incidents title="Permanent link">&para;</a></h2> <ul> <li> <h1 id=38-2025-11-15-similar-symptoms-different-root-cause-query-deadlock>38 (2025-11-15): Similar symptoms, different root cause (query deadlock)<a class=headerlink href=#38-2025-11-15-similar-symptoms-different-root-cause-query-deadlock title="Permanent link">&para;</a></h1> </li> <li> <h1 id=27-2025-10-22-connection-leak-in-orm-layer>27 (2025-10-22): Connection leak in ORM layer<a class=headerlink href=#27-2025-10-22-connection-leak-in-orm-layer title="Permanent link">&para;</a></h1> </li> </ul> <h2 id=escalation-path>Escalation Path<a class=headerlink href=#escalation-path title="Permanent link">&para;</a></h2> <ul> <li><strong>Tier 1</strong> (0-15 min): On-call engineer follows this runbook</li> <li><strong>Tier 2</strong> (15-30 min): Escalate to Database SRE if connections not freed</li> <li><strong>Tier 3</strong> (30+ min): Escalate to VP Engineering, consider service degradation announcement</li> </ul> <hr> <p><strong>Last Updated</strong>: 2025-12-12 <strong>Owner</strong>: POD-O (Operations) <strong>Version</strong>: 1.0.0 <div class="language-text highlight"><pre><span></span><code><span id=__span-11-1><a id=__codelineno-11-1 name=__codelineno-11-1 href=#__codelineno-11-1></a>#### Prompt 2: Create Alert Playbook
</span><span id=__span-11-2><a id=__codelineno-11-2 name=__codelineno-11-2 href=#__codelineno-11-2></a>```markdown
</span><span id=__span-11-3><a id=__codelineno-11-3 name=__codelineno-11-3 href=#__codelineno-11-3></a>**Task**: Create alert playbook for [alert-name]
</span><span id=__span-11-4><a id=__codelineno-11-4 name=__codelineno-11-4 href=#__codelineno-11-4></a>
</span><span id=__span-11-5><a id=__codelineno-11-5 name=__codelineno-11-5 href=#__codelineno-11-5></a>**Context**:
</span><span id=__span-11-6><a id=__codelineno-11-6 name=__codelineno-11-6 href=#__codelineno-11-6></a>- Alert Name: [e.g., &quot;High Memory Usage&quot;]
</span><span id=__span-11-7><a id=__codelineno-11-7 name=__codelineno-11-7 href=#__codelineno-11-7></a>- Trigger Condition: [query/threshold]
</span><span id=__span-11-8><a id=__codelineno-11-8 name=__codelineno-11-8 href=#__codelineno-11-8></a>- Expected Frequency: [rare/occasional/frequent]
</span><span id=__span-11-9><a id=__codelineno-11-9 name=__codelineno-11-9 href=#__codelineno-11-9></a>- Impact: [service degradation/outage/performance]
</span><span id=__span-11-10><a id=__codelineno-11-10 name=__codelineno-11-10 href=#__codelineno-11-10></a>
</span><span id=__span-11-11><a id=__codelineno-11-11 name=__codelineno-11-11 href=#__codelineno-11-11></a>**Expected Output**:
</span><span id=__span-11-12><a id=__codelineno-11-12 name=__codelineno-11-12 href=#__codelineno-11-12></a>1. Alert definition and trigger query
</span><span id=__span-11-13><a id=__codelineno-11-13 name=__codelineno-11-13 href=#__codelineno-11-13></a>2. Immediate triage steps (5 min)
</span><span id=__span-11-14><a id=__codelineno-11-14 name=__codelineno-11-14 href=#__codelineno-11-14></a>3. Root cause investigation procedure (15 min)
</span><span id=__span-11-15><a id=__codelineno-11-15 name=__codelineno-11-15 href=#__codelineno-11-15></a>4. Common resolutions with commands
</span><span id=__span-11-16><a id=__codelineno-11-16 name=__codelineno-11-16 href=#__codelineno-11-16></a>5. Escalation criteria
</span></code></pre></div></p> <p><strong>Example</strong>: <div class="language-markdown highlight"><pre><span></span><code><span id=__span-12-1><a id=__codelineno-12-1 name=__codelineno-12-1 href=#__codelineno-12-1></a><span class=gh># Alert: High Memory Usage (&gt;85%)</span>
</span><span id=__span-12-2><a id=__codelineno-12-2 name=__codelineno-12-2 href=#__codelineno-12-2></a>
</span><span id=__span-12-3><a id=__codelineno-12-3 name=__codelineno-12-3 href=#__codelineno-12-3></a><span class=gs>**Severity**</span>: Warning (&gt;85%), Critical (&gt;95%)
</span><span id=__span-12-4><a id=__codelineno-12-4 name=__codelineno-12-4 href=#__codelineno-12-4></a><span class=gs>**Owner**</span>: POD-O (Operations)
</span><span id=__span-12-5><a id=__codelineno-12-5 name=__codelineno-12-5 href=#__codelineno-12-5></a><span class=gs>**Last Updated**</span>: 2025-12-12
</span><span id=__span-12-6><a id=__codelineno-12-6 name=__codelineno-12-6 href=#__codelineno-12-6></a>
</span><span id=__span-12-7><a id=__codelineno-12-7 name=__codelineno-12-7 href=#__codelineno-12-7></a><span class=gu>## Alert Definition</span>
</span><span id=__span-12-8><a id=__codelineno-12-8 name=__codelineno-12-8 href=#__codelineno-12-8></a>
</span><span id=__span-12-9><a id=__codelineno-12-9 name=__codelineno-12-9 href=#__codelineno-12-9></a><span class=gs>**Trigger Condition**</span>:
</span><span id=__span-12-10><a id=__codelineno-12-10 name=__codelineno-12-10 href=#__codelineno-12-10></a>```kusto
</span><span id=__span-12-11><a id=__codelineno-12-11 name=__codelineno-12-11 href=#__codelineno-12-11></a>performanceCounters
</span><span id=__span-12-12><a id=__codelineno-12-12 name=__codelineno-12-12 href=#__codelineno-12-12></a>| where timestamp &gt; ago(5m)
</span><span id=__span-12-13><a id=__codelineno-12-13 name=__codelineno-12-13 href=#__codelineno-12-13></a>| where category == &quot;Memory&quot;
</span><span id=__span-12-14><a id=__codelineno-12-14 name=__codelineno-12-14 href=#__codelineno-12-14></a>| where counter == &quot;% Committed Bytes In Use&quot;
</span><span id=__span-12-15><a id=__codelineno-12-15 name=__codelineno-12-15 href=#__codelineno-12-15></a>| summarize AvgMemory = avg(value)
</span><span id=__span-12-16><a id=__codelineno-12-16 name=__codelineno-12-16 href=#__codelineno-12-16></a>| where AvgMemory &gt; 85
</span></code></pre></div></p> <h2 id=what-this-alert-means>What This Alert Means<a class=headerlink href=#what-this-alert-means title="Permanent link">&para;</a></h2> <p>High memory usage indicates the application is consuming &gt;85% of available RAM, which can lead to: - Performance degradation (increased GC pressure) - OOM (Out of Memory) crashes - Service unavailability</p> <p><strong>Normal Range</strong>: 50-70%</p> <h2 id=immediate-actions-5-minutes>Immediate Actions (5 minutes)<a class=headerlink href=#immediate-actions-5-minutes title="Permanent link">&para;</a></h2> <h3 id=1-verify-alert>1. Verify Alert<a class=headerlink href=#1-verify-alert title="Permanent link">&para;</a></h3> <div class="language-bash highlight"><pre><span></span><code><span id=__span-13-1><a id=__codelineno-13-1 name=__codelineno-13-1 href=#__codelineno-13-1></a><span class=c1># Check current memory usage</span>
</span><span id=__span-13-2><a id=__codelineno-13-2 name=__codelineno-13-2 href=#__codelineno-13-2></a>az<span class=w> </span>monitor<span class=w> </span>app-insights<span class=w> </span>query<span class=w> </span><span class=se>\</span>
</span><span id=__span-13-3><a id=__codelineno-13-3 name=__codelineno-13-3 href=#__codelineno-13-3></a><span class=w>  </span>--app<span class=w> </span>&lt;app-insights-id&gt;<span class=w> </span><span class=se>\</span>
</span><span id=__span-13-4><a id=__codelineno-13-4 name=__codelineno-13-4 href=#__codelineno-13-4></a><span class=w>  </span>--analytics-query<span class=w> </span><span class=s2>&quot;performanceCounters | where timestamp &gt; ago(5m) | where counter == &#39;% Committed Bytes In Use&#39; | summarize AvgMemory = avg(value)&quot;</span>
</span></code></pre></div> <p><strong>Expected</strong>: Confirm memory &gt;85%</p> <h3 id=2-identify-process>2. Identify Process<a class=headerlink href=#2-identify-process title="Permanent link">&para;</a></h3> <div class="language-bash highlight"><pre><span></span><code><span id=__span-14-1><a id=__codelineno-14-1 name=__codelineno-14-1 href=#__codelineno-14-1></a><span class=c1># Find memory-hungry processes</span>
</span><span id=__span-14-2><a id=__codelineno-14-2 name=__codelineno-14-2 href=#__codelineno-14-2></a>ssh<span class=w> </span>&lt;server&gt;<span class=w> </span><span class=s2>&quot;ps aux --sort=-%mem | head -10&quot;</span>
</span></code></pre></div> <p><strong>Look for</strong>: - Application process using &gt;4GB - Unexpected processes (malware, runaway scripts)</p> <h3 id=3-check-for-memory-leak>3. Check for Memory Leak<a class=headerlink href=#3-check-for-memory-leak title="Permanent link">&para;</a></h3> <div class="language-bash highlight"><pre><span></span><code><span id=__span-15-1><a id=__codelineno-15-1 name=__codelineno-15-1 href=#__codelineno-15-1></a><span class=c1># Compare current vs 1 hour ago</span>
</span><span id=__span-15-2><a id=__codelineno-15-2 name=__codelineno-15-2 href=#__codelineno-15-2></a>az<span class=w> </span>monitor<span class=w> </span>app-insights<span class=w> </span>query<span class=w> </span><span class=se>\</span>
</span><span id=__span-15-3><a id=__codelineno-15-3 name=__codelineno-15-3 href=#__codelineno-15-3></a><span class=w>  </span>--app<span class=w> </span>&lt;app-insights-id&gt;<span class=w> </span><span class=se>\</span>
</span><span id=__span-15-4><a id=__codelineno-15-4 name=__codelineno-15-4 href=#__codelineno-15-4></a><span class=w>  </span>--analytics-query<span class=w> </span><span class=s2>&quot;performanceCounters | where timestamp &gt; ago(1h) | where counter == &#39;% Committed Bytes In Use&#39; | summarize AvgMemory = avg(value) by bin(timestamp, 10m) | render timechart&quot;</span>
</span></code></pre></div> <p><strong>Pattern</strong>: - <strong>Spike</strong>: Sudden increase (likely traffic surge) - <strong>Gradual increase</strong>: Memory leak suspected - <strong>Sawtooth</strong>: Normal GC behavior</p> <h2 id=root-cause-investigation-15-minutes>Root Cause Investigation (15 minutes)<a class=headerlink href=#root-cause-investigation-15-minutes title="Permanent link">&para;</a></h2> <h3 id=traffic-surge>Traffic Surge<a class=headerlink href=#traffic-surge title="Permanent link">&para;</a></h3> <div class="language-bash highlight"><pre><span></span><code><span id=__span-16-1><a id=__codelineno-16-1 name=__codelineno-16-1 href=#__codelineno-16-1></a><span class=c1># Check request rate</span>
</span><span id=__span-16-2><a id=__codelineno-16-2 name=__codelineno-16-2 href=#__codelineno-16-2></a>az<span class=w> </span>monitor<span class=w> </span>app-insights<span class=w> </span>query<span class=w> </span><span class=se>\</span>
</span><span id=__span-16-3><a id=__codelineno-16-3 name=__codelineno-16-3 href=#__codelineno-16-3></a><span class=w>  </span>--app<span class=w> </span>&lt;app-insights-id&gt;<span class=w> </span><span class=se>\</span>
</span><span id=__span-16-4><a id=__codelineno-16-4 name=__codelineno-16-4 href=#__codelineno-16-4></a><span class=w>  </span>--analytics-query<span class=w> </span><span class=s2>&quot;requests | where timestamp &gt; ago(1h) | summarize RequestRate = count() / 60.0 by bin(timestamp, 1m) | render timechart&quot;</span>
</span></code></pre></div> <p><strong>Resolution</strong>: If traffic surge correlates with memory spike: 1. Scale out application instances 2. Enable auto-scaling if not configured</p> <h3 id=memory-leak>Memory Leak<a class=headerlink href=#memory-leak title="Permanent link">&para;</a></h3> <div class="language-bash highlight"><pre><span></span><code><span id=__span-17-1><a id=__codelineno-17-1 name=__codelineno-17-1 href=#__codelineno-17-1></a><span class=c1># Check for growing object counts (requires profiler)</span>
</span><span id=__span-17-2><a id=__codelineno-17-2 name=__codelineno-17-2 href=#__codelineno-17-2></a>dotnet-dump<span class=w> </span>collect<span class=w> </span>-p<span class=w> </span>&lt;process-id&gt;
</span><span id=__span-17-3><a id=__codelineno-17-3 name=__codelineno-17-3 href=#__codelineno-17-3></a>dotnet-dump<span class=w> </span>analyze<span class=w> </span>&lt;dump-file&gt;
</span><span id=__span-17-4><a id=__codelineno-17-4 name=__codelineno-17-4 href=#__codelineno-17-4></a>&gt;<span class=w> </span>dumpheap<span class=w> </span>-stat
</span></code></pre></div> <p><strong>Resolution</strong>: If leak confirmed: 1. Restart affected instance (immediate mitigation) 2. Create bug report with heap dump 3. Schedule hotfix deployment</p> <h3 id=insufficient-resources>Insufficient Resources<a class=headerlink href=#insufficient-resources title="Permanent link">&para;</a></h3> <div class="language-bash highlight"><pre><span></span><code><span id=__span-18-1><a id=__codelineno-18-1 name=__codelineno-18-1 href=#__codelineno-18-1></a><span class=c1># Check instance size</span>
</span><span id=__span-18-2><a id=__codelineno-18-2 name=__codelineno-18-2 href=#__codelineno-18-2></a>az<span class=w> </span>webapp<span class=w> </span>show<span class=w> </span>--name<span class=w> </span>&lt;app-name&gt;<span class=w> </span>--resource-group<span class=w> </span>&lt;rg&gt;<span class=w> </span>--query<span class=w> </span><span class=s2>&quot;sku&quot;</span>
</span></code></pre></div> <p><strong>Resolution</strong>: If undersized: 1. Scale up to next tier (e.g., P1V2 ‚Üí P2V2) 2. Monitor for 24 hours 3. Adjust auto-scaling rules</p> <h2 id=common-resolutions>Common Resolutions<a class=headerlink href=#common-resolutions title="Permanent link">&para;</a></h2> <h3 id=resolution-1-restart-application-mttr-5-min>Resolution 1: Restart Application (MTTR: 5 min)<a class=headerlink href=#resolution-1-restart-application-mttr-5-min title="Permanent link">&para;</a></h3> <p><strong>When to Use</strong>: Confirmed memory leak, immediate mitigation needed</p> <div class="language-bash highlight"><pre><span></span><code><span id=__span-19-1><a id=__codelineno-19-1 name=__codelineno-19-1 href=#__codelineno-19-1></a><span class=c1># Restart app service</span>
</span><span id=__span-19-2><a id=__codelineno-19-2 name=__codelineno-19-2 href=#__codelineno-19-2></a>az<span class=w> </span>webapp<span class=w> </span>restart<span class=w> </span>--name<span class=w> </span>&lt;app-name&gt;<span class=w> </span>--resource-group<span class=w> </span>&lt;rg&gt;
</span><span id=__span-19-3><a id=__codelineno-19-3 name=__codelineno-19-3 href=#__codelineno-19-3></a>
</span><span id=__span-19-4><a id=__codelineno-19-4 name=__codelineno-19-4 href=#__codelineno-19-4></a><span class=c1># Verify health</span>
</span><span id=__span-19-5><a id=__codelineno-19-5 name=__codelineno-19-5 href=#__codelineno-19-5></a>curl<span class=w> </span>https://&lt;app-name&gt;.azurewebsites.net/health
</span></code></pre></div> <h3 id=resolution-2-scale-out-mttr-3-min>Resolution 2: Scale Out (MTTR: 3 min)<a class=headerlink href=#resolution-2-scale-out-mttr-3-min title="Permanent link">&para;</a></h3> <p><strong>When to Use</strong>: Traffic surge, horizontal scaling configured</p> <div class="language-bash highlight"><pre><span></span><code><span id=__span-20-1><a id=__codelineno-20-1 name=__codelineno-20-1 href=#__codelineno-20-1></a><span class=c1># Add 2 more instances</span>
</span><span id=__span-20-2><a id=__codelineno-20-2 name=__codelineno-20-2 href=#__codelineno-20-2></a>az<span class=w> </span>webapp<span class=w> </span>scale<span class=w> </span>--name<span class=w> </span>&lt;app-name&gt;<span class=w> </span>--resource-group<span class=w> </span>&lt;rg&gt;<span class=w> </span>--instance-count<span class=w> </span><span class=m>5</span>
</span></code></pre></div> <h3 id=resolution-3-scale-up-mttr-10-min>Resolution 3: Scale Up (MTTR: 10 min)<a class=headerlink href=#resolution-3-scale-up-mttr-10-min title="Permanent link">&para;</a></h3> <p><strong>When to Use</strong>: Insufficient memory capacity</p> <div class="language-bash highlight"><pre><span></span><code><span id=__span-21-1><a id=__codelineno-21-1 name=__codelineno-21-1 href=#__codelineno-21-1></a><span class=c1># Upgrade to P2V2 (7GB RAM)</span>
</span><span id=__span-21-2><a id=__codelineno-21-2 name=__codelineno-21-2 href=#__codelineno-21-2></a>az<span class=w> </span>appservice<span class=w> </span>plan<span class=w> </span>update<span class=w> </span>--name<span class=w> </span>&lt;plan-name&gt;<span class=w> </span>--resource-group<span class=w> </span>&lt;rg&gt;<span class=w> </span>--sku<span class=w> </span>P2V2
</span></code></pre></div> <h2 id=escalation-criteria>Escalation Criteria<a class=headerlink href=#escalation-criteria title="Permanent link">&para;</a></h2> <ul> <li><strong>15 minutes</strong>: If memory &gt;95% after restart ‚Üí Escalate to Platform SRE</li> <li><strong>30 minutes</strong>: If service degraded ‚Üí Escalate to VP Engineering</li> <li><strong>45 minutes</strong>: If user-facing impact ‚Üí Notify customers via status page</li> </ul> <h2 id=prevention_1>Prevention<a class=headerlink href=#prevention_1 title="Permanent link">&para;</a></h2> <ul class=task-list> <li class=task-list-item><label class=task-list-control><input type=checkbox disabled><span class=task-list-indicator></span></label> Configure auto-scaling (CPU &gt;70% OR Memory &gt;75%)</li> <li class=task-list-item><label class=task-list-control><input type=checkbox disabled><span class=task-list-indicator></span></label> Enable Application Insights profiler for leak detection</li> <li class=task-list-item><label class=task-list-control><input type=checkbox disabled><span class=task-list-indicator></span></label> Set up memory usage trends dashboard</li> <li class=task-list-item><label class=task-list-control><input type=checkbox disabled><span class=task-list-indicator></span></label> Schedule monthly memory usage reviews</li> </ul> <hr> <p><strong>Runbook Version</strong>: 1.0.0 <strong>Alert ID</strong>: alert-memory-high <strong>Related Runbooks</strong>: - <a href=runbook-oom-crash.md>OOM Crash Recovery</a> - <a href=runbook-perf-degradation.md>Performance Degradation</a> <div class="language-text highlight"><pre><span></span><code><span id=__span-22-1><a id=__codelineno-22-1 name=__codelineno-22-1 href=#__codelineno-22-1></a>#### Prompt 3: Analyze MTTR Trends
</span><span id=__span-22-2><a id=__codelineno-22-2 name=__codelineno-22-2 href=#__codelineno-22-2></a>```markdown
</span><span id=__span-22-3><a id=__codelineno-22-3 name=__codelineno-22-3 href=#__codelineno-22-3></a>**Task**: Analyze MTTR trends and suggest improvements
</span><span id=__span-22-4><a id=__codelineno-22-4 name=__codelineno-22-4 href=#__codelineno-22-4></a>
</span><span id=__span-22-5><a id=__codelineno-22-5 name=__codelineno-22-5 href=#__codelineno-22-5></a>**Context**:
</span><span id=__span-22-6><a id=__codelineno-22-6 name=__codelineno-22-6 href=#__codelineno-22-6></a>- Time period: [last 30/60/90 days]
</span><span id=__span-22-7><a id=__codelineno-22-7 name=__codelineno-22-7 href=#__codelineno-22-7></a>- Target MTTR: [e.g., &lt;1 hour]
</span><span id=__span-22-8><a id=__codelineno-22-8 name=__codelineno-22-8 href=#__codelineno-22-8></a>- Incident scope: [all/specific service]
</span><span id=__span-22-9><a id=__codelineno-22-9 name=__codelineno-22-9 href=#__codelineno-22-9></a>
</span><span id=__span-22-10><a id=__codelineno-22-10 name=__codelineno-22-10 href=#__codelineno-22-10></a>**Expected Output**:
</span><span id=__span-22-11><a id=__codelineno-22-11 name=__codelineno-22-11 href=#__codelineno-22-11></a>1. MTTR summary statistics
</span><span id=__span-22-12><a id=__codelineno-22-12 name=__codelineno-22-12 href=#__codelineno-22-12></a>2. Top incident types by frequency
</span><span id=__span-22-13><a id=__codelineno-22-13 name=__codelineno-22-13 href=#__codelineno-22-13></a>3. Bottlenecks in resolution process
</span><span id=__span-22-14><a id=__codelineno-22-14 name=__codelineno-22-14 href=#__codelineno-22-14></a>4. Automation opportunities
</span><span id=__span-22-15><a id=__codelineno-22-15 name=__codelineno-22-15 href=#__codelineno-22-15></a>5. Recommended actions with expected MTTR improvement
</span></code></pre></div></p> <hr> <h2 id=awareness-protocol-integration>üß† Awareness Protocol Integration<a class=headerlink href=#awareness-protocol-integration title="Permanent link">&para;</a></h2> <p>All P09 outputs include awareness metadata per P16 standard:</p> <h3 id=example-runbook-generation-awareness>Example: Runbook Generation Awareness<a class=headerlink href=#example-runbook-generation-awareness title="Permanent link">&para;</a></h3> <div class="language-yaml highlight"><pre><span></span><code><span id=__span-23-1><a id=__codelineno-23-1 name=__codelineno-23-1 href=#__codelineno-23-1></a><span class=nn>---</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">Awareness (P16 ‚Äì AWR) ---</span>
</span><span id=__span-23-2><a id=__codelineno-23-2 name=__codelineno-23-2 href=#__codelineno-23-2></a><span class="l l-Scalar l-Scalar-Plain">pod(s)</span><span class="p p-Indicator">:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">POD-O (Operations), All Development Pods</span>
</span><span id=__span-23-3><a id=__codelineno-23-3 name=__codelineno-23-3 href=#__codelineno-23-3></a><span class=nt>phase</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">6 (Day-2 Operations)</span>
</span><span id=__span-23-4><a id=__codelineno-23-4 name=__codelineno-23-4 href=#__codelineno-23-4></a><span class=nt>confidence</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">Medium</span>
</span><span id=__span-23-5><a id=__codelineno-23-5 name=__codelineno-23-5 href=#__codelineno-23-5></a><span class=nt>assumptions</span><span class=p>:</span>
</span><span id=__span-23-6><a id=__codelineno-23-6 name=__codelineno-23-6 href=#__codelineno-23-6></a><span class=w>  </span><span class="p p-Indicator">-</span><span class=w> </span><span class=s>&quot;Incident</span><span class=nv> </span><span class=s>postmortem</span><span class=nv> </span><span class=s>in</span><span class=nv> </span><span class=s>GitHub</span><span class=nv> </span><span class=s>Issue</span><span class=nv> </span><span class=s>is</span><span class=nv> </span><span class=s>complete</span><span class=nv> </span><span class=s>and</span><span class=nv> </span><span class=s>accurate&quot;</span>
</span><span id=__span-23-7><a id=__codelineno-23-7 name=__codelineno-23-7 href=#__codelineno-23-7></a><span class=w>  </span><span class="p p-Indicator">-</span><span class=w> </span><span class=s>&quot;Resolution</span><span class=nv> </span><span class=s>steps</span><span class=nv> </span><span class=s>have</span><span class=nv> </span><span class=s>been</span><span class=nv> </span><span class=s>validated</span><span class=nv> </span><span class=s>in</span><span class=nv> </span><span class=s>production&quot;</span>
</span><span id=__span-23-8><a id=__codelineno-23-8 name=__codelineno-23-8 href=#__codelineno-23-8></a><span class=w>  </span><span class="p p-Indicator">-</span><span class=w> </span><span class=s>&quot;Similar</span><span class=nv> </span><span class=s>incidents</span><span class=nv> </span><span class=s>will</span><span class=nv> </span><span class=s>follow</span><span class=nv> </span><span class=s>same</span><span class=nv> </span><span class=s>resolution</span><span class=nv> </span><span class=s>pattern&quot;</span>
</span><span id=__span-23-9><a id=__codelineno-23-9 name=__codelineno-23-9 href=#__codelineno-23-9></a><span class=nt>risks</span><span class=p>:</span>
</span><span id=__span-23-10><a id=__codelineno-23-10 name=__codelineno-23-10 href=#__codelineno-23-10></a><span class=w>  </span><span class="p p-Indicator">-</span><span class=w> </span><span class=s>&quot;Runbook</span><span class=nv> </span><span class=s>may</span><span class=nv> </span><span class=s>be</span><span class=nv> </span><span class=s>incomplete</span><span class=nv> </span><span class=s>if</span><span class=nv> </span><span class=s>incident</span><span class=nv> </span><span class=s>analysis</span><span class=nv> </span><span class=s>was</span><span class=nv> </span><span class=s>rushed&quot;</span>
</span><span id=__span-23-11><a id=__codelineno-23-11 name=__codelineno-23-11 href=#__codelineno-23-11></a><span class=w>  </span><span class="p p-Indicator">-</span><span class=w> </span><span class=s>&quot;Environmental</span><span class=nv> </span><span class=s>differences</span><span class=nv> </span><span class=s>may</span><span class=nv> </span><span class=s>require</span><span class=nv> </span><span class=s>runbook</span><span class=nv> </span><span class=s>adaptation&quot;</span>
</span><span id=__span-23-12><a id=__codelineno-23-12 name=__codelineno-23-12 href=#__codelineno-23-12></a><span class=w>  </span><span class="p p-Indicator">-</span><span class=w> </span><span class=s>&quot;Automation</span><span class=nv> </span><span class=s>scripts</span><span class=nv> </span><span class=s>may</span><span class=nv> </span><span class=s>fail</span><span class=nv> </span><span class=s>in</span><span class=nv> </span><span class=s>slightly</span><span class=nv> </span><span class=s>different</span><span class=nv> </span><span class=s>scenarios&quot;</span>
</span><span id=__span-23-13><a id=__codelineno-23-13 name=__codelineno-23-13 href=#__codelineno-23-13></a><span class=nt>actionClass: C1 (human-on-loop</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">automated generation, human review required)</span>
</span><span id=__span-23-14><a id=__codelineno-23-14 name=__codelineno-23-14 href=#__codelineno-23-14></a><span class=nt>suggestedNextAction</span><span class=p>:</span>
</span><span id=__span-23-15><a id=__codelineno-23-15 name=__codelineno-23-15 href=#__codelineno-23-15></a><span class=w>  </span><span class="p p-Indicator">-</span><span class=w> </span><span class=s>&quot;Review</span><span class=nv> </span><span class=s>generated</span><span class=nv> </span><span class=s>runbook</span><span class=nv> </span><span class=s>for</span><span class=nv> </span><span class=s>accuracy&quot;</span>
</span><span id=__span-23-16><a id=__codelineno-23-16 name=__codelineno-23-16 href=#__codelineno-23-16></a><span class=w>  </span><span class="p p-Indicator">-</span><span class=w> </span><span class=s>&quot;Test</span><span class=nv> </span><span class=s>runbook</span><span class=nv> </span><span class=s>steps</span><span class=nv> </span><span class=s>in</span><span class=nv> </span><span class=s>staging</span><span class=nv> </span><span class=s>environment&quot;</span>
</span><span id=__span-23-17><a id=__codelineno-23-17 name=__codelineno-23-17 href=#__codelineno-23-17></a><span class=w>  </span><span class="p p-Indicator">-</span><span class=w> </span><span class=s>&quot;Add</span><span class=nv> </span><span class=s>runbook</span><span class=nv> </span><span class=s>to</span><span class=nv> </span><span class=s>alert</span><span class=nv> </span><span class=s>playbook</span><span class=nv> </span><span class=s>mapping&quot;</span>
</span><span id=__span-23-18><a id=__codelineno-23-18 name=__codelineno-23-18 href=#__codelineno-23-18></a><span class=w>  </span><span class="p p-Indicator">-</span><span class=w> </span><span class=s>&quot;Train</span><span class=nv> </span><span class=s>on-call</span><span class=nv> </span><span class=s>team</span><span class=nv> </span><span class=s>on</span><span class=nv> </span><span class=s>new</span><span class=nv> </span><span class=s>runbook&quot;</span>
</span><span id=__span-23-19><a id=__codelineno-23-19 name=__codelineno-23-19 href=#__codelineno-23-19></a><span class=w>  </span><span class="p p-Indicator">-</span><span class=w> </span><span class=s>&quot;Schedule</span><span class=nv> </span><span class=s>runbook</span><span class=nv> </span><span class=s>review</span><span class=nv> </span><span class=s>in</span><span class=nv> </span><span class=s>30</span><span class=nv> </span><span class=s>days&quot;</span>
</span><span id=__span-23-20><a id=__codelineno-23-20 name=__codelineno-23-20 href=#__codelineno-23-20></a><span class=nt>evidenceRefs</span><span class=p>:</span>
</span><span id=__span-23-21><a id=__codelineno-23-21 name=__codelineno-23-21 href=#__codelineno-23-21></a><span class=w>  </span><span class="p p-Indicator">-</span><span class=w> </span><span class=s>&quot;runbooks/incidents/incident-42-api-timeout.md&quot;</span>
</span><span id=__span-23-22><a id=__codelineno-23-22 name=__codelineno-23-22 href=#__codelineno-23-22></a><span class=w>  </span><span class="p p-Indicator">-</span><span class=w> </span><span class=s>&quot;https://github.com/org/repo/issues/42&quot;</span>
</span><span id=__span-23-23><a id=__codelineno-23-23 name=__codelineno-23-23 href=#__codelineno-23-23></a><span class=w>  </span><span class="p p-Indicator">-</span><span class=w> </span><span class=s>&quot;docs/runbooks/README.md&quot;</span>
</span><span id=__span-23-24><a id=__codelineno-23-24 name=__codelineno-23-24 href=#__codelineno-23-24></a><span class=nn>---</span>
</span></code></pre></div> <h3 id=example-mttr-analysis-awareness>Example: MTTR Analysis Awareness<a class=headerlink href=#example-mttr-analysis-awareness title="Permanent link">&para;</a></h3> <div class="language-yaml highlight"><pre><span></span><code><span id=__span-24-1><a id=__codelineno-24-1 name=__codelineno-24-1 href=#__codelineno-24-1></a><span class=nn>---</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">Awareness (P16 ‚Äì AWR) ---</span>
</span><span id=__span-24-2><a id=__codelineno-24-2 name=__codelineno-24-2 href=#__codelineno-24-2></a><span class="l l-Scalar l-Scalar-Plain">pod(s)</span><span class="p p-Indicator">:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">POD-O (Operations), POD-F (Foundation)</span>
</span><span id=__span-24-3><a id=__codelineno-24-3 name=__codelineno-24-3 href=#__codelineno-24-3></a><span class=nt>phase</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">6 (Day-2 Operations)</span>
</span><span id=__span-24-4><a id=__codelineno-24-4 name=__codelineno-24-4 href=#__codelineno-24-4></a><span class=nt>confidence</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">High</span>
</span><span id=__span-24-5><a id=__codelineno-24-5 name=__codelineno-24-5 href=#__codelineno-24-5></a><span class=nt>assumptions</span><span class=p>:</span>
</span><span id=__span-24-6><a id=__codelineno-24-6 name=__codelineno-24-6 href=#__codelineno-24-6></a><span class=w>  </span><span class="p p-Indicator">-</span><span class=w> </span><span class=s>&quot;Incident</span><span class=nv> </span><span class=s>data</span><span class=nv> </span><span class=s>from</span><span class=nv> </span><span class=s>GitHub</span><span class=nv> </span><span class=s>Issues</span><span class=nv> </span><span class=s>is</span><span class=nv> </span><span class=s>complete&quot;</span>
</span><span id=__span-24-7><a id=__codelineno-24-7 name=__codelineno-24-7 href=#__codelineno-24-7></a><span class=w>  </span><span class="p p-Indicator">-</span><span class=w> </span><span class=s>&quot;MTTR</span><span class=nv> </span><span class=s>calculations</span><span class=nv> </span><span class=s>include</span><span class=nv> </span><span class=s>all</span><span class=nv> </span><span class=s>resolution</span><span class=nv> </span><span class=s>time</span><span class=nv> </span><span class=s>(detection</span><span class=nv> </span><span class=s>‚Üí</span><span class=nv> </span><span class=s>recovery)&quot;</span>
</span><span id=__span-24-8><a id=__codelineno-24-8 name=__codelineno-24-8 href=#__codelineno-24-8></a><span class=w>  </span><span class="p p-Indicator">-</span><span class=w> </span><span class=s>&quot;Automation</span><span class=nv> </span><span class=s>recommendations</span><span class=nv> </span><span class=s>are</span><span class=nv> </span><span class=s>technically</span><span class=nv> </span><span class=s>feasible&quot;</span>
</span><span id=__span-24-9><a id=__codelineno-24-9 name=__codelineno-24-9 href=#__codelineno-24-9></a><span class=nt>risks</span><span class=p>:</span>
</span><span id=__span-24-10><a id=__codelineno-24-10 name=__codelineno-24-10 href=#__codelineno-24-10></a><span class=w>  </span><span class="p p-Indicator">-</span><span class=w> </span><span class=s>&quot;MTTR</span><span class=nv> </span><span class=s>improvement</span><span class=nv> </span><span class=s>estimates</span><span class=nv> </span><span class=s>may</span><span class=nv> </span><span class=s>be</span><span class=nv> </span><span class=s>optimistic&quot;</span>
</span><span id=__span-24-11><a id=__codelineno-24-11 name=__codelineno-24-11 href=#__codelineno-24-11></a><span class=w>  </span><span class="p p-Indicator">-</span><span class=w> </span><span class=s>&quot;Automation</span><span class=nv> </span><span class=s>may</span><span class=nv> </span><span class=s>introduce</span><span class=nv> </span><span class=s>new</span><span class=nv> </span><span class=s>failure</span><span class=nv> </span><span class=s>modes&quot;</span>
</span><span id=__span-24-12><a id=__codelineno-24-12 name=__codelineno-24-12 href=#__codelineno-24-12></a><span class=w>  </span><span class="p p-Indicator">-</span><span class=w> </span><span class=s>&quot;Team</span><span class=nv> </span><span class=s>may</span><span class=nv> </span><span class=s>lack</span><span class=nv> </span><span class=s>capacity</span><span class=nv> </span><span class=s>to</span><span class=nv> </span><span class=s>implement</span><span class=nv> </span><span class=s>all</span><span class=nv> </span><span class=s>recommendations&quot;</span>
</span><span id=__span-24-13><a id=__codelineno-24-13 name=__codelineno-24-13 href=#__codelineno-24-13></a><span class=nt>actionClass: C0 (human-in-loop</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">analysis is advisory, humans prioritize actions)</span>
</span><span id=__span-24-14><a id=__codelineno-24-14 name=__codelineno-24-14 href=#__codelineno-24-14></a><span class=nt>suggestedNextAction</span><span class=p>:</span>
</span><span id=__span-24-15><a id=__codelineno-24-15 name=__codelineno-24-15 href=#__codelineno-24-15></a><span class=w>  </span><span class="p p-Indicator">-</span><span class=w> </span><span class=s>&quot;Review</span><span class=nv> </span><span class=s>MTTR</span><span class=nv> </span><span class=s>analysis</span><span class=nv> </span><span class=s>in</span><span class=nv> </span><span class=s>sprint</span><span class=nv> </span><span class=s>planning&quot;</span>
</span><span id=__span-24-16><a id=__codelineno-24-16 name=__codelineno-24-16 href=#__codelineno-24-16></a><span class=w>  </span><span class="p p-Indicator">-</span><span class=w> </span><span class=s>&quot;Prioritize</span><span class=nv> </span><span class=s>top</span><span class=nv> </span><span class=s>3</span><span class=nv> </span><span class=s>automation</span><span class=nv> </span><span class=s>opportunities&quot;</span>
</span><span id=__span-24-17><a id=__codelineno-24-17 name=__codelineno-24-17 href=#__codelineno-24-17></a><span class=w>  </span><span class="p p-Indicator">-</span><span class=w> </span><span class=s>&quot;Allocate</span><span class=nv> </span><span class=s>20%</span><span class=nv> </span><span class=s>sprint</span><span class=nv> </span><span class=s>capacity</span><span class=nv> </span><span class=s>to</span><span class=nv> </span><span class=s>MTTR</span><span class=nv> </span><span class=s>reduction&quot;</span>
</span><span id=__span-24-18><a id=__codelineno-24-18 name=__codelineno-24-18 href=#__codelineno-24-18></a><span class=w>  </span><span class="p p-Indicator">-</span><span class=w> </span><span class=s>&quot;Track</span><span class=nv> </span><span class=s>MTTR</span><span class=nv> </span><span class=s>trends</span><span class=nv> </span><span class=s>monthly&quot;</span>
</span><span id=__span-24-19><a id=__codelineno-24-19 name=__codelineno-24-19 href=#__codelineno-24-19></a><span class=w>  </span><span class="p p-Indicator">-</span><span class=w> </span><span class=s>&quot;Celebrate</span><span class=nv> </span><span class=s>MTTR</span><span class=nv> </span><span class=s>improvements</span><span class=nv> </span><span class=s>with</span><span class=nv> </span><span class=s>team&quot;</span>
</span><span id=__span-24-20><a id=__codelineno-24-20 name=__codelineno-24-20 href=#__codelineno-24-20></a><span class=nt>evidenceRefs</span><span class=p>:</span>
</span><span id=__span-24-21><a id=__codelineno-24-21 name=__codelineno-24-21 href=#__codelineno-24-21></a><span class=w>  </span><span class="p p-Indicator">-</span><span class=w> </span><span class=s>&quot;metrics/mttr-analysis-2025-12.json&quot;</span>
</span><span id=__span-24-22><a id=__codelineno-24-22 name=__codelineno-24-22 href=#__codelineno-24-22></a><span class=w>  </span><span class="p p-Indicator">-</span><span class=w> </span><span class=s>&quot;runbooks/incidents/&quot;</span>
</span><span id=__span-24-23><a id=__codelineno-24-23 name=__codelineno-24-23 href=#__codelineno-24-23></a><span class=w>  </span><span class="p p-Indicator">-</span><span class=w> </span><span class=s>&quot;docs/sprint-planning/sprint-N.md&quot;</span>
</span><span id=__span-24-24><a id=__codelineno-24-24 name=__codelineno-24-24 href=#__codelineno-24-24></a><span class=nn>---</span>
</span></code></pre></div> <hr> <h2 id=definition-of-done>‚úÖ Definition of Done<a class=headerlink href=#definition-of-done title="Permanent link">&para;</a></h2> <h3 id=for-runbook-creation>For Runbook Creation<a class=headerlink href=#for-runbook-creation title="Permanent link">&para;</a></h3> <ul class=task-list> <li class=task-list-item><label class=task-list-control><input type=checkbox disabled><span class=task-list-indicator></span></label> Incident postmortem reviewed and complete</li> <li class=task-list-item><label class=task-list-control><input type=checkbox disabled><span class=task-list-indicator></span></label> Root cause clearly identified</li> <li class=task-list-item><label class=task-list-control><input type=checkbox disabled><span class=task-list-indicator></span></label> Resolution steps documented with commands</li> <li class=task-list-item><label class=task-list-control><input type=checkbox disabled><span class=task-list-indicator></span></label> Expected output specified for each step</li> <li class=task-list-item><label class=task-list-control><input type=checkbox disabled><span class=task-list-indicator></span></label> Timeboxes assigned to each section</li> <li class=task-list-item><label class=task-list-control><input type=checkbox disabled><span class=task-list-indicator></span></label> Escalation criteria defined</li> <li class=task-list-item><label class=task-list-control><input type=checkbox disabled><span class=task-list-indicator></span></label> Prevention recommendations included</li> <li class=task-list-item><label class=task-list-control><input type=checkbox disabled><span class=task-list-indicator></span></label> Related incidents linked</li> <li class=task-list-item><label class=task-list-control><input type=checkbox disabled><span class=task-list-indicator></span></label> Runbook tested in staging environment</li> <li class=task-list-item><label class=task-list-control><input type=checkbox disabled><span class=task-list-indicator></span></label> On-call team trained on runbook</li> </ul> <h3 id=for-alert-playbook>For Alert Playbook<a class=headerlink href=#for-alert-playbook title="Permanent link">&para;</a></h3> <ul class=task-list> <li class=task-list-item><label class=task-list-control><input type=checkbox disabled><span class=task-list-indicator></span></label> Alert trigger condition documented</li> <li class=task-list-item><label class=task-list-control><input type=checkbox disabled><span class=task-list-indicator></span></label> Normal vs abnormal ranges defined</li> <li class=task-list-item><label class=task-list-control><input type=checkbox disabled><span class=task-list-indicator></span></label> Immediate triage steps (&lt;5 min) provided</li> <li class=task-list-item><label class=task-list-control><input type=checkbox disabled><span class=task-list-indicator></span></label> Root cause investigation procedure included</li> <li class=task-list-item><label class=task-list-control><input type=checkbox disabled><span class=task-list-indicator></span></label> Common resolutions with commands documented</li> <li class=task-list-item><label class=task-list-control><input type=checkbox disabled><span class=task-list-indicator></span></label> Escalation path and criteria defined</li> <li class=task-list-item><label class=task-list-control><input type=checkbox disabled><span class=task-list-indicator></span></label> Related runbooks linked</li> <li class=task-list-item><label class=task-list-control><input type=checkbox disabled><span class=task-list-indicator></span></label> Playbook validated by SRE team</li> </ul> <h3 id=for-mttr-improvement>For MTTR Improvement<a class=headerlink href=#for-mttr-improvement title="Permanent link">&para;</a></h3> <ul class=task-list> <li class=task-list-item><label class=task-list-control><input type=checkbox disabled><span class=task-list-indicator></span></label> Incident data collected and analyzed</li> <li class=task-list-item><label class=task-list-control><input type=checkbox disabled><span class=task-list-indicator></span></label> MTTR trends visualized</li> <li class=task-list-item><label class=task-list-control><input type=checkbox disabled><span class=task-list-indicator></span></label> Top incident types identified</li> <li class=task-list-item><label class=task-list-control><input type=checkbox disabled><span class=task-list-indicator></span></label> Automation opportunities prioritized</li> <li class=task-list-item><label class=task-list-control><input type=checkbox disabled><span class=task-list-indicator></span></label> Expected MTTR improvement estimated</li> <li class=task-list-item><label class=task-list-control><input type=checkbox disabled><span class=task-list-indicator></span></label> Implementation plan created</li> <li class=task-list-item><label class=task-list-control><input type=checkbox disabled><span class=task-list-indicator></span></label> Sprint capacity allocated</li> <li class=task-list-item><label class=task-list-control><input type=checkbox disabled><span class=task-list-indicator></span></label> Success metrics defined</li> </ul> <hr> <h2 id=quality-gates-and-success-criteria>üéØ Quality Gates and Success Criteria<a class=headerlink href=#quality-gates-and-success-criteria title="Permanent link">&para;</a></h2> <h3 id=runbook-quality-metrics>Runbook Quality Metrics<a class=headerlink href=#runbook-quality-metrics title="Permanent link">&para;</a></h3> <table> <thead> <tr> <th>Metric</th> <th>Target</th> <th>Measurement</th> <th>Alert Threshold</th> </tr> </thead> <tbody> <tr> <td><strong>Runbook Completeness</strong></td> <td>100%</td> <td>All required sections present</td> <td>&lt;90%</td> </tr> <tr> <td><strong>Runbook Accuracy</strong></td> <td>&gt;95%</td> <td>Successful executions / attempts</td> <td>&lt;85%</td> </tr> <tr> <td><strong>Runbook Freshness</strong></td> <td>&lt;90 days</td> <td>Days since last update</td> <td>&gt;180 days</td> </tr> <tr> <td><strong>Command Validity</strong></td> <td>100%</td> <td>Valid syntax + expected output</td> <td>&lt;100%</td> </tr> <tr> <td><strong>Escalation Path Clarity</strong></td> <td>100%</td> <td>Clear criteria + contact info</td> <td>&lt;100%</td> </tr> </tbody> </table> <h3 id=mttr-performance-metrics>MTTR Performance Metrics<a class=headerlink href=#mttr-performance-metrics title="Permanent link">&para;</a></h3> <table> <thead> <tr> <th>Incident Type</th> <th>Target MTTR</th> <th>Current MTTR</th> <th>Trend</th> </tr> </thead> <tbody> <tr> <td><strong>Database Connection Issue</strong></td> <td>&lt;30 min</td> <td>23 min</td> <td>‚¨áÔ∏è Improving</td> </tr> <tr> <td><strong>API Rate Limiting</strong></td> <td>&lt;15 min</td> <td>18 min</td> <td>‚û°Ô∏è Stable</td> </tr> <tr> <td><strong>Cache Invalidation</strong></td> <td>&lt;10 min</td> <td>12 min</td> <td>‚¨ÜÔ∏è Worsening</td> </tr> <tr> <td><strong>Deployment Rollback</strong></td> <td>&lt;20 min</td> <td>15 min</td> <td>‚¨áÔ∏è Improving</td> </tr> <tr> <td><strong>Security Incident</strong></td> <td>&lt;1 hour</td> <td>42 min</td> <td>‚¨áÔ∏è Improving</td> </tr> </tbody> </table> <h3 id=runbook-effectiveness-metrics>Runbook Effectiveness Metrics<a class=headerlink href=#runbook-effectiveness-metrics title="Permanent link">&para;</a></h3> <table> <thead> <tr> <th>Metric</th> <th>Definition</th> <th>Target</th> <th>Current</th> </tr> </thead> <tbody> <tr> <td><strong>Runbook Coverage</strong></td> <td>% of alerts with playbooks</td> <td>100%</td> <td>87%</td> </tr> <tr> <td><strong>First-Time Resolution Rate</strong></td> <td>Incidents resolved without escalation</td> <td>&gt;80%</td> <td>76%</td> </tr> <tr> <td><strong>Runbook Usage Rate</strong></td> <td>% of incidents using runbooks</td> <td>&gt;90%</td> <td>82%</td> </tr> <tr> <td><strong>Automation Rate</strong></td> <td>% of runbook steps automated</td> <td>&gt;50%</td> <td>34%</td> </tr> </tbody> </table> <hr> <h2 id=common-issues-and-troubleshooting>üö® Common Issues and Troubleshooting<a class=headerlink href=#common-issues-and-troubleshooting title="Permanent link">&para;</a></h2> <h3 id=issue-1-runbook-doesnt-match-actual-incident>Issue 1: Runbook Doesn't Match Actual Incident<a class=headerlink href=#issue-1-runbook-doesnt-match-actual-incident title="Permanent link">&para;</a></h3> <p><strong>Symptoms</strong>: - Commands fail with different error messages - Expected output doesn't match actual - Resolution steps don't work</p> <p><strong>Root Causes</strong>: - Environment drift since runbook creation - Runbook not updated after infrastructure changes - Edge case not covered in original incident</p> <p><strong>Remediation</strong>: <div class="language-markdown highlight"><pre><span></span><code><span id=__span-25-1><a id=__codelineno-25-1 name=__codelineno-25-1 href=#__codelineno-25-1></a><span class=k>1.</span> <span class=gs>**Document variance**</span> in incident timeline
</span><span id=__span-25-2><a id=__codelineno-25-2 name=__codelineno-25-2 href=#__codelineno-25-2></a><span class=k>2.</span> <span class=gs>**Follow general troubleshooting**</span> instead of runbook
</span><span id=__span-25-3><a id=__codelineno-25-3 name=__codelineno-25-3 href=#__codelineno-25-3></a><span class=k>3.</span> <span class=gs>**Update runbook**</span> after incident resolved
</span><span id=__span-25-4><a id=__codelineno-25-4 name=__codelineno-25-4 href=#__codelineno-25-4></a><span class=k>4.</span> <span class=gs>**Add notes**</span> for environmental differences
</span></code></pre></div></p> <p><strong>Prevention</strong>: - Schedule quarterly runbook review - Test runbooks in staging after infra changes - Include "Runbook doesn't work?" section with general troubleshooting</p> <h3 id=issue-2-mttr-not-improving-despite-runbooks>Issue 2: MTTR Not Improving Despite Runbooks<a class=headerlink href=#issue-2-mttr-not-improving-despite-runbooks title="Permanent link">&para;</a></h3> <p><strong>Symptoms</strong>: - Runbooks created but MTTR stays high - On-call team not using runbooks - Repeated incidents with same root cause</p> <p><strong>Root Causes</strong>: - Runbooks not discoverable during incidents - Alert-to-runbook mapping missing - Runbooks too complex or incomplete</p> <p><strong>Remediation</strong>: <div class="language-powershell highlight"><pre><span></span><code><span id=__span-26-1><a id=__codelineno-26-1 name=__codelineno-26-1 href=#__codelineno-26-1></a><span class=c># Add runbook links to alert notifications</span>
</span><span id=__span-26-2><a id=__codelineno-26-2 name=__codelineno-26-2 href=#__codelineno-26-2></a><span class=n>az</span> <span class=n>monitor</span> <span class=n>action-group</span> <span class=n>create</span> <span class=p>\</span>
</span><span id=__span-26-3><a id=__codelineno-26-3 name=__codelineno-26-3 href=#__codelineno-26-3></a>  <span class=p>-</span><span class=n>-name</span> <span class=s2>&quot;alert-api-error-rate&quot;</span> <span class=p>\</span>
</span><span id=__span-26-4><a id=__codelineno-26-4 name=__codelineno-26-4 href=#__codelineno-26-4></a>  <span class=p>-</span><span class=n>-short-name</span> <span class=s2>&quot;API-ERR&quot;</span> <span class=p>\</span>
</span><span id=__span-26-5><a id=__codelineno-26-5 name=__codelineno-26-5 href=#__codelineno-26-5></a>  <span class=p>-</span><span class=n>-webhook</span> <span class=s2>&quot;https://runbooks.eva.gc.ca/alert/api-error-rate&quot;</span>
</span><span id=__span-26-6><a id=__codelineno-26-6 name=__codelineno-26-6 href=#__codelineno-26-6></a>
</span><span id=__span-26-7><a id=__codelineno-26-7 name=__codelineno-26-7 href=#__codelineno-26-7></a><span class=c># Simplify runbooks: &lt;10 steps for common incidents</span>
</span><span id=__span-26-8><a id=__codelineno-26-8 name=__codelineno-26-8 href=#__codelineno-26-8></a><span class=c># Add &quot;Quick Win&quot; section at top for 80% cases</span>
</span></code></pre></div></p> <p><strong>Prevention</strong>: - Embed runbook links in alert notifications - Create "Quick Start" section in runbooks - Train on-call team monthly on new runbooks</p> <h3 id=issue-3-runbook-automation-fails>Issue 3: Runbook Automation Fails<a class=headerlink href=#issue-3-runbook-automation-fails title="Permanent link">&para;</a></h3> <p><strong>Symptoms</strong>: - Automated remediation scripts error - Manual execution works, automation fails - Permissions or authentication issues</p> <p><strong>Root Causes</strong>: - Service principal lacks required permissions - Hardcoded values specific to dev environment - Network security rules block automation</p> <p><strong>Remediation</strong>: <div class="language-bash highlight"><pre><span></span><code><span id=__span-27-1><a id=__codelineno-27-1 name=__codelineno-27-1 href=#__codelineno-27-1></a><span class=c1># Check service principal permissions</span>
</span><span id=__span-27-2><a id=__codelineno-27-2 name=__codelineno-27-2 href=#__codelineno-27-2></a>az<span class=w> </span>role<span class=w> </span>assignment<span class=w> </span>list<span class=w> </span>--assignee<span class=w> </span>&lt;sp-id&gt;
</span><span id=__span-27-3><a id=__codelineno-27-3 name=__codelineno-27-3 href=#__codelineno-27-3></a>
</span><span id=__span-27-4><a id=__codelineno-27-4 name=__codelineno-27-4 href=#__codelineno-27-4></a><span class=c1># Grant required roles</span>
</span><span id=__span-27-5><a id=__codelineno-27-5 name=__codelineno-27-5 href=#__codelineno-27-5></a>az<span class=w> </span>role<span class=w> </span>assignment<span class=w> </span>create<span class=w> </span><span class=se>\</span>
</span><span id=__span-27-6><a id=__codelineno-27-6 name=__codelineno-27-6 href=#__codelineno-27-6></a><span class=w>  </span>--assignee<span class=w> </span>&lt;sp-id&gt;<span class=w> </span><span class=se>\</span>
</span><span id=__span-27-7><a id=__codelineno-27-7 name=__codelineno-27-7 href=#__codelineno-27-7></a><span class=w>  </span>--role<span class=w> </span><span class=s2>&quot;Contributor&quot;</span><span class=w> </span><span class=se>\</span>
</span><span id=__span-27-8><a id=__codelineno-27-8 name=__codelineno-27-8 href=#__codelineno-27-8></a><span class=w>  </span>--scope<span class=w> </span><span class=s2>&quot;/subscriptions/&lt;sub-id&gt;/resourceGroups/&lt;rg&gt;&quot;</span>
</span><span id=__span-27-9><a id=__codelineno-27-9 name=__codelineno-27-9 href=#__codelineno-27-9></a>
</span><span id=__span-27-10><a id=__codelineno-27-10 name=__codelineno-27-10 href=#__codelineno-27-10></a><span class=c1># Test automation in staging first</span>
</span></code></pre></div></p> <p><strong>Prevention</strong>: - Document required permissions in runbook - Use environment variables, not hardcoded values - Test automation in non-production first</p> <hr> <h2 id=metrics-and-performance-indicators>üìä Metrics and Performance Indicators<a class=headerlink href=#metrics-and-performance-indicators title="Permanent link">&para;</a></h2> <h3 id=mttr-dashboard-configuration>MTTR Dashboard Configuration<a class=headerlink href=#mttr-dashboard-configuration title="Permanent link">&para;</a></h3> <div class="language-typescript highlight"><pre><span></span><code><span id=__span-28-1><a id=__codelineno-28-1 name=__codelineno-28-1 href=#__codelineno-28-1></a><span class=c1>// tools/runbooks/mttr-dashboard.ts</span>
</span><span id=__span-28-2><a id=__codelineno-28-2 name=__codelineno-28-2 href=#__codelineno-28-2></a><span class=k>export</span><span class=w> </span><span class=kd>const</span><span class=w> </span><span class=nx>mttrKPIs</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-28-3><a id=__codelineno-28-3 name=__codelineno-28-3 href=#__codelineno-28-3></a><span class=w>  </span><span class=nx>overall</span><span class=o>:</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-28-4><a id=__codelineno-28-4 name=__codelineno-28-4 href=#__codelineno-28-4></a><span class=w>    </span><span class=nx>target</span><span class=o>:</span><span class=w> </span><span class=kt>60</span><span class=p>,</span><span class=w>  </span><span class=c1>// minutes</span>
</span><span id=__span-28-5><a id=__codelineno-28-5 name=__codelineno-28-5 href=#__codelineno-28-5></a><span class=w>    </span><span class=nx>warning</span><span class=o>:</span><span class=w> </span><span class=kt>90</span><span class=p>,</span><span class=w>  </span><span class=c1>// minutes</span>
</span><span id=__span-28-6><a id=__codelineno-28-6 name=__codelineno-28-6 href=#__codelineno-28-6></a><span class=w>    </span><span class=nx>critical</span><span class=o>:</span><span class=w> </span><span class=kt>120</span><span class=p>,</span><span class=w>  </span><span class=c1>// minutes</span>
</span><span id=__span-28-7><a id=__codelineno-28-7 name=__codelineno-28-7 href=#__codelineno-28-7></a><span class=w>  </span><span class=p>},</span>
</span><span id=__span-28-8><a id=__codelineno-28-8 name=__codelineno-28-8 href=#__codelineno-28-8></a>
</span><span id=__span-28-9><a id=__codelineno-28-9 name=__codelineno-28-9 href=#__codelineno-28-9></a><span class=w>  </span><span class=nx>byIncidentType</span><span class=o>:</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-28-10><a id=__codelineno-28-10 name=__codelineno-28-10 href=#__codelineno-28-10></a><span class=w>    </span><span class=nx>p0_outage</span><span class=o>:</span><span class=w> </span><span class=p>{</span><span class=w> </span><span class=nx>target</span><span class=o>:</span><span class=w> </span><span class=kt>30</span><span class=p>,</span><span class=w> </span><span class=nx>warning</span><span class=o>:</span><span class=w> </span><span class=kt>60</span><span class=p>,</span><span class=w> </span><span class=nx>critical</span><span class=o>:</span><span class=w> </span><span class=kt>90</span><span class=w> </span><span class=p>},</span>
</span><span id=__span-28-11><a id=__codelineno-28-11 name=__codelineno-28-11 href=#__codelineno-28-11></a><span class=w>    </span><span class=nx>p1_degradation</span><span class=o>:</span><span class=w> </span><span class=p>{</span><span class=w> </span><span class=nx>target</span><span class=o>:</span><span class=w> </span><span class=kt>60</span><span class=p>,</span><span class=w> </span><span class=nx>warning</span><span class=o>:</span><span class=w> </span><span class=kt>90</span><span class=p>,</span><span class=w> </span><span class=nx>critical</span><span class=o>:</span><span class=w> </span><span class=kt>120</span><span class=w> </span><span class=p>},</span>
</span><span id=__span-28-12><a id=__codelineno-28-12 name=__codelineno-28-12 href=#__codelineno-28-12></a><span class=w>    </span><span class=nx>p2_minor</span><span class=o>:</span><span class=w> </span><span class=p>{</span><span class=w> </span><span class=nx>target</span><span class=o>:</span><span class=w> </span><span class=kt>120</span><span class=p>,</span><span class=w> </span><span class=nx>warning</span><span class=o>:</span><span class=w> </span><span class=kt>180</span><span class=p>,</span><span class=w> </span><span class=nx>critical</span><span class=o>:</span><span class=w> </span><span class=kt>240</span><span class=w> </span><span class=p>},</span>
</span><span id=__span-28-13><a id=__codelineno-28-13 name=__codelineno-28-13 href=#__codelineno-28-13></a><span class=w>  </span><span class=p>},</span>
</span><span id=__span-28-14><a id=__codelineno-28-14 name=__codelineno-28-14 href=#__codelineno-28-14></a>
</span><span id=__span-28-15><a id=__codelineno-28-15 name=__codelineno-28-15 href=#__codelineno-28-15></a><span class=w>  </span><span class=nx>byService</span><span class=o>:</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-28-16><a id=__codelineno-28-16 name=__codelineno-28-16 href=#__codelineno-28-16></a><span class=w>    </span><span class=s1>&#39;eva-api&#39;</span><span class=o>:</span><span class=w> </span><span class=p>{</span><span class=w> </span><span class=nx>target</span><span class=o>:</span><span class=w> </span><span class=kt>45</span><span class=p>,</span><span class=w> </span><span class=nx>current</span><span class=o>:</span><span class=w> </span><span class=kt>38</span><span class=p>,</span><span class=w> </span><span class=nx>trend</span><span class=o>:</span><span class=w> </span><span class=s1>&#39;improving&#39;</span><span class=w> </span><span class=p>},</span>
</span><span id=__span-28-17><a id=__codelineno-28-17 name=__codelineno-28-17 href=#__codelineno-28-17></a><span class=w>    </span><span class=s1>&#39;eva-rag&#39;</span><span class=o>:</span><span class=w> </span><span class=p>{</span><span class=w> </span><span class=nx>target</span><span class=o>:</span><span class=w> </span><span class=kt>60</span><span class=p>,</span><span class=w> </span><span class=nx>current</span><span class=o>:</span><span class=w> </span><span class=kt>72</span><span class=p>,</span><span class=w> </span><span class=nx>trend</span><span class=o>:</span><span class=w> </span><span class=s1>&#39;worsening&#39;</span><span class=w> </span><span class=p>},</span>
</span><span id=__span-28-18><a id=__codelineno-28-18 name=__codelineno-28-18 href=#__codelineno-28-18></a><span class=w>    </span><span class=s1>&#39;eva-core&#39;</span><span class=o>:</span><span class=w> </span><span class=p>{</span><span class=w> </span><span class=nx>target</span><span class=o>:</span><span class=w> </span><span class=kt>30</span><span class=p>,</span><span class=w> </span><span class=nx>current</span><span class=o>:</span><span class=w> </span><span class=kt>28</span><span class=p>,</span><span class=w> </span><span class=nx>trend</span><span class=o>:</span><span class=w> </span><span class=s1>&#39;stable&#39;</span><span class=w> </span><span class=p>},</span>
</span><span id=__span-28-19><a id=__codelineno-28-19 name=__codelineno-28-19 href=#__codelineno-28-19></a><span class=w>  </span><span class=p>}</span>
</span><span id=__span-28-20><a id=__codelineno-28-20 name=__codelineno-28-20 href=#__codelineno-28-20></a><span class=p>};</span>
</span></code></pre></div> <h3 id=runbook-quality-report>Runbook Quality Report<a class=headerlink href=#runbook-quality-report title="Permanent link">&para;</a></h3> <div class="language-powershell highlight"><pre><span></span><code><span id=__span-29-1><a id=__codelineno-29-1 name=__codelineno-29-1 href=#__codelineno-29-1></a><span class=c># Generate runbook quality report</span>
</span><span id=__span-29-2><a id=__codelineno-29-2 name=__codelineno-29-2 href=#__codelineno-29-2></a><span class=k>param</span><span class=p>(</span><span class=no>[int]</span><span class=nv>$Days</span> <span class=p>=</span> <span class=n>90</span><span class=p>)</span>
</span><span id=__span-29-3><a id=__codelineno-29-3 name=__codelineno-29-3 href=#__codelineno-29-3></a>
</span><span id=__span-29-4><a id=__codelineno-29-4 name=__codelineno-29-4 href=#__codelineno-29-4></a><span class=nv>$runbooks</span> <span class=p>=</span> <span class=nb>Get-ChildItem</span> <span class=s2>&quot;runbooks/&quot;</span> <span class=n>-Filter</span> <span class=s2>&quot;*.md&quot;</span> <span class=n>-Recurse</span>
</span><span id=__span-29-5><a id=__codelineno-29-5 name=__codelineno-29-5 href=#__codelineno-29-5></a>
</span><span id=__span-29-6><a id=__codelineno-29-6 name=__codelineno-29-6 href=#__codelineno-29-6></a><span class=nv>$report</span> <span class=p>=</span> <span class=p>@{</span>
</span><span id=__span-29-7><a id=__codelineno-29-7 name=__codelineno-29-7 href=#__codelineno-29-7></a>  <span class=n>total_runbooks</span> <span class=p>=</span> <span class=nv>$runbooks</span><span class=p>.</span><span class=n>Count</span>
</span><span id=__span-29-8><a id=__codelineno-29-8 name=__codelineno-29-8 href=#__codelineno-29-8></a>  <span class=n>coverage</span> <span class=p>=</span> <span class=p>@{</span>
</span><span id=__span-29-9><a id=__codelineno-29-9 name=__codelineno-29-9 href=#__codelineno-29-9></a>    <span class=n>alerts_with_playbooks</span> <span class=p>=</span> <span class=n>0</span>
</span><span id=__span-29-10><a id=__codelineno-29-10 name=__codelineno-29-10 href=#__codelineno-29-10></a>    <span class=n>alerts_without_playbooks</span> <span class=p>=</span> <span class=n>0</span>
</span><span id=__span-29-11><a id=__codelineno-29-11 name=__codelineno-29-11 href=#__codelineno-29-11></a>  <span class=p>}</span>
</span><span id=__span-29-12><a id=__codelineno-29-12 name=__codelineno-29-12 href=#__codelineno-29-12></a>  <span class=n>freshness</span> <span class=p>=</span> <span class=p>@{</span>
</span><span id=__span-29-13><a id=__codelineno-29-13 name=__codelineno-29-13 href=#__codelineno-29-13></a>    <span class=n>updated_30d</span> <span class=p>=</span> <span class=n>0</span>
</span><span id=__span-29-14><a id=__codelineno-29-14 name=__codelineno-29-14 href=#__codelineno-29-14></a>    <span class=n>updated_90d</span> <span class=p>=</span> <span class=n>0</span>
</span><span id=__span-29-15><a id=__codelineno-29-15 name=__codelineno-29-15 href=#__codelineno-29-15></a>    <span class=n>stale_90d</span> <span class=p>=</span> <span class=n>0</span>
</span><span id=__span-29-16><a id=__codelineno-29-16 name=__codelineno-29-16 href=#__codelineno-29-16></a>  <span class=p>}</span>
</span><span id=__span-29-17><a id=__codelineno-29-17 name=__codelineno-29-17 href=#__codelineno-29-17></a>  <span class=n>effectiveness</span> <span class=p>=</span> <span class=p>@{</span>
</span><span id=__span-29-18><a id=__codelineno-29-18 name=__codelineno-29-18 href=#__codelineno-29-18></a>    <span class=n>incidents_using_runbooks</span> <span class=p>=</span> <span class=n>0</span>
</span><span id=__span-29-19><a id=__codelineno-29-19 name=__codelineno-29-19 href=#__codelineno-29-19></a>    <span class=n>incidents_without_runbooks</span> <span class=p>=</span> <span class=n>0</span>
</span><span id=__span-29-20><a id=__codelineno-29-20 name=__codelineno-29-20 href=#__codelineno-29-20></a>  <span class=p>}</span>
</span><span id=__span-29-21><a id=__codelineno-29-21 name=__codelineno-29-21 href=#__codelineno-29-21></a><span class=p>}</span>
</span><span id=__span-29-22><a id=__codelineno-29-22 name=__codelineno-29-22 href=#__codelineno-29-22></a>
</span><span id=__span-29-23><a id=__codelineno-29-23 name=__codelineno-29-23 href=#__codelineno-29-23></a><span class=c># Analyze each runbook</span>
</span><span id=__span-29-24><a id=__codelineno-29-24 name=__codelineno-29-24 href=#__codelineno-29-24></a><span class=k>foreach</span> <span class=p>(</span><span class=nv>$runbook</span> <span class=k>in</span> <span class=nv>$runbooks</span><span class=p>)</span> <span class=p>{</span>
</span><span id=__span-29-25><a id=__codelineno-29-25 name=__codelineno-29-25 href=#__codelineno-29-25></a>  <span class=nv>$lastModified</span> <span class=p>=</span> <span class=p>(</span><span class=nb>Get-Item</span> <span class=nv>$runbook</span><span class=p>.</span><span class=n>FullName</span><span class=p>).</span><span class=n>LastWriteTime</span>
</span><span id=__span-29-26><a id=__codelineno-29-26 name=__codelineno-29-26 href=#__codelineno-29-26></a>  <span class=nv>$age</span> <span class=p>=</span> <span class=p>(</span><span class=nb>Get-Date</span><span class=p>)</span> <span class=p>-</span> <span class=nv>$lastModified</span>
</span><span id=__span-29-27><a id=__codelineno-29-27 name=__codelineno-29-27 href=#__codelineno-29-27></a>
</span><span id=__span-29-28><a id=__codelineno-29-28 name=__codelineno-29-28 href=#__codelineno-29-28></a>  <span class=k>if</span> <span class=p>(</span><span class=nv>$age</span><span class=p>.</span><span class=n>Days</span> <span class=o>-lt</span> <span class=n>30</span><span class=p>)</span> <span class=p>{</span> <span class=nv>$report</span><span class=p>.</span><span class=n>freshness</span><span class=p>.</span><span class=n>updated_30d</span><span class=p>++</span> <span class=p>}</span>
</span><span id=__span-29-29><a id=__codelineno-29-29 name=__codelineno-29-29 href=#__codelineno-29-29></a>  <span class=k>elseif</span> <span class=p>(</span><span class=nv>$age</span><span class=p>.</span><span class=n>Days</span> <span class=o>-lt</span> <span class=n>90</span><span class=p>)</span> <span class=p>{</span> <span class=nv>$report</span><span class=p>.</span><span class=n>freshness</span><span class=p>.</span><span class=n>updated_90d</span><span class=p>++</span> <span class=p>}</span>
</span><span id=__span-29-30><a id=__codelineno-29-30 name=__codelineno-29-30 href=#__codelineno-29-30></a>  <span class=k>else</span> <span class=p>{</span> <span class=nv>$report</span><span class=p>.</span><span class=n>freshness</span><span class=p>.</span><span class=n>stale_90d</span><span class=p>++</span> <span class=p>}</span>
</span><span id=__span-29-31><a id=__codelineno-29-31 name=__codelineno-29-31 href=#__codelineno-29-31></a><span class=p>}</span>
</span><span id=__span-29-32><a id=__codelineno-29-32 name=__codelineno-29-32 href=#__codelineno-29-32></a>
</span><span id=__span-29-33><a id=__codelineno-29-33 name=__codelineno-29-33 href=#__codelineno-29-33></a><span class=nv>$report</span> <span class=p>|</span> <span class=nb>ConvertTo-Json</span> <span class=n>-Depth</span> <span class=n>10</span> <span class=p>|</span> <span class=nb>Out-File</span> <span class=s2>&quot;metrics/runbook-quality-</span><span class=p>$(</span><span class=nb>Get-Date</span> <span class=n>-Format</span> <span class=s1>&#39;yyyyMMdd&#39;</span><span class=p>)</span><span class=s2>.json&quot;</span>
</span><span id=__span-29-34><a id=__codelineno-29-34 name=__codelineno-29-34 href=#__codelineno-29-34></a><span class=nb>Write-Host</span> <span class=s2>&quot;‚úÖ Runbook quality report generated&quot;</span> <span class=n>-ForegroundColor</span> <span class=n>Green</span>
</span></code></pre></div> <hr> <h2 id=security-and-compliance-considerations>üîê Security and Compliance Considerations<a class=headerlink href=#security-and-compliance-considerations title="Permanent link">&para;</a></h2> <h3 id=sensitive-information-in-runbooks>Sensitive Information in Runbooks<a class=headerlink href=#sensitive-information-in-runbooks title="Permanent link">&para;</a></h3> <p><strong>P09 ensures runbooks do NOT contain</strong>: - ‚ùå Hardcoded credentials or secrets - ‚ùå Production connection strings - ‚ùå API keys or tokens - ‚ùå Internal IP addresses (use placeholders)</p> <p><strong>Approved patterns</strong>: - ‚úÖ Reference Azure Key Vault for secrets - ‚úÖ Use environment variables: <code>$AZURE_CLIENT_ID</code> - ‚úÖ Document HOW to retrieve secrets, not the secrets themselves</p> <p><strong>Example (CORRECT)</strong>: <div class="language-bash highlight"><pre><span></span><code><span id=__span-30-1><a id=__codelineno-30-1 name=__codelineno-30-1 href=#__codelineno-30-1></a><span class=c1># Retrieve database password from Key Vault</span>
</span><span id=__span-30-2><a id=__codelineno-30-2 name=__codelineno-30-2 href=#__codelineno-30-2></a><span class=nv>DB_PASSWORD</span><span class=o>=</span><span class=k>$(</span>az<span class=w> </span>keyvault<span class=w> </span>secret<span class=w> </span>show<span class=w> </span>--vault-name<span class=w> </span>eva-secrets<span class=w> </span>--name<span class=w> </span>db-password<span class=w> </span>--query<span class=w> </span>value<span class=w> </span>-o<span class=w> </span>tsv<span class=k>)</span>
</span><span id=__span-30-3><a id=__codelineno-30-3 name=__codelineno-30-3 href=#__codelineno-30-3></a>
</span><span id=__span-30-4><a id=__codelineno-30-4 name=__codelineno-30-4 href=#__codelineno-30-4></a><span class=c1># Connect to database</span>
</span><span id=__span-30-5><a id=__codelineno-30-5 name=__codelineno-30-5 href=#__codelineno-30-5></a>psql<span class=w> </span>-h<span class=w> </span>&lt;db-host&gt;<span class=w> </span>-U<span class=w> </span>&lt;db-user&gt;<span class=w> </span>-d<span class=w> </span>&lt;db-name&gt;
</span></code></pre></div></p> <p><strong>Example (INCORRECT)</strong>: <div class="language-bash highlight"><pre><span></span><code><span id=__span-31-1><a id=__codelineno-31-1 name=__codelineno-31-1 href=#__codelineno-31-1></a><span class=c1># ‚ùå NEVER DO THIS</span>
</span><span id=__span-31-2><a id=__codelineno-31-2 name=__codelineno-31-2 href=#__codelineno-31-2></a>psql<span class=w> </span>-h<span class=w> </span>prod-db.postgres.database.azure.com<span class=w> </span>-U<span class=w> </span>admin<span class=w> </span>-d<span class=w> </span>eva_prod
</span><span id=__span-31-3><a id=__codelineno-31-3 name=__codelineno-31-3 href=#__codelineno-31-3></a><span class=c1># Password: SuperSecret123!</span>
</span></code></pre></div></p> <h3 id=incident-data-privacy>Incident Data Privacy<a class=headerlink href=#incident-data-privacy title="Permanent link">&para;</a></h3> <p><strong>PII/PHI Handling</strong>: - ‚úÖ Redact user IDs, emails, names from runbooks - ‚úÖ Use anonymized examples: <code>user_12345</code>, <code>order_ABCDE</code> - ‚ùå Never include real customer data in runbooks</p> <h3 id=access-control>Access Control<a class=headerlink href=#access-control title="Permanent link">&para;</a></h3> <p><strong>Runbook Repository Permissions</strong>: - <strong>Read</strong>: All engineers (for incident response) - <strong>Write</strong>: SRE team + POD-O leads - <strong>Approve</strong>: Operations Manager (for production runbooks)</p> <hr> <h2 id=implementation-guidance>üîß Implementation Guidance<a class=headerlink href=#implementation-guidance title="Permanent link">&para;</a></h2> <h3 id=step-1-bootstrap-runbook-repository>Step 1: Bootstrap Runbook Repository<a class=headerlink href=#step-1-bootstrap-runbook-repository title="Permanent link">&para;</a></h3> <div class="language-bash highlight"><pre><span></span><code><span id=__span-32-1><a id=__codelineno-32-1 name=__codelineno-32-1 href=#__codelineno-32-1></a><span class=c1># Create runbook directory structure</span>
</span><span id=__span-32-2><a id=__codelineno-32-2 name=__codelineno-32-2 href=#__codelineno-32-2></a>mkdir<span class=w> </span>-p<span class=w> </span>runbooks/<span class=o>{</span>incidents,alerts,maintenance<span class=o>}</span>
</span><span id=__span-32-3><a id=__codelineno-32-3 name=__codelineno-32-3 href=#__codelineno-32-3></a>
</span><span id=__span-32-4><a id=__codelineno-32-4 name=__codelineno-32-4 href=#__codelineno-32-4></a><span class=c1># Copy starter templates</span>
</span><span id=__span-32-5><a id=__codelineno-32-5 name=__codelineno-32-5 href=#__codelineno-32-5></a>cp<span class=w> </span>tools/runbooks/templates/incident-template.md<span class=w> </span>runbooks/incidents/
</span><span id=__span-32-6><a id=__codelineno-32-6 name=__codelineno-32-6 href=#__codelineno-32-6></a>cp<span class=w> </span>tools/runbooks/templates/alert-template.md<span class=w> </span>runbooks/alerts/
</span><span id=__span-32-7><a id=__codelineno-32-7 name=__codelineno-32-7 href=#__codelineno-32-7></a>
</span><span id=__span-32-8><a id=__codelineno-32-8 name=__codelineno-32-8 href=#__codelineno-32-8></a><span class=c1># Initialize README</span>
</span><span id=__span-32-9><a id=__codelineno-32-9 name=__codelineno-32-9 href=#__codelineno-32-9></a>cat<span class=w> </span>&gt;<span class=w> </span>runbooks/README.md<span class=w> </span><span class=s>&lt;&lt;EOF</span>
</span><span id=__span-32-10><a id=__codelineno-32-10 name=__codelineno-32-10 href=#__codelineno-32-10></a><span class=s># EVA Suite Operational Runbooks</span>
</span><span id=__span-32-11><a id=__codelineno-32-11 name=__codelineno-32-11 href=#__codelineno-32-11></a>
</span><span id=__span-32-12><a id=__codelineno-32-12 name=__codelineno-32-12 href=#__codelineno-32-12></a><span class=s>## Directory Structure</span>
</span><span id=__span-32-13><a id=__codelineno-32-13 name=__codelineno-32-13 href=#__codelineno-32-13></a><span class=s>- \`incidents/\`: Runbooks generated from past incidents</span>
</span><span id=__span-32-14><a id=__codelineno-32-14 name=__codelineno-32-14 href=#__codelineno-32-14></a><span class=s>- \`alerts/\`: Alert response playbooks</span>
</span><span id=__span-32-15><a id=__codelineno-32-15 name=__codelineno-32-15 href=#__codelineno-32-15></a><span class=s>- \`maintenance/\`: Scheduled maintenance procedures</span>
</span><span id=__span-32-16><a id=__codelineno-32-16 name=__codelineno-32-16 href=#__codelineno-32-16></a>
</span><span id=__span-32-17><a id=__codelineno-32-17 name=__codelineno-32-17 href=#__codelineno-32-17></a><span class=s>## Usage</span>
</span><span id=__span-32-18><a id=__codelineno-32-18 name=__codelineno-32-18 href=#__codelineno-32-18></a><span class=s>1. On-call engineer receives alert</span>
</span><span id=__span-32-19><a id=__codelineno-32-19 name=__codelineno-32-19 href=#__codelineno-32-19></a><span class=s>2. Find corresponding playbook in \`alerts/\`</span>
</span><span id=__span-32-20><a id=__codelineno-32-20 name=__codelineno-32-20 href=#__codelineno-32-20></a><span class=s>3. Follow triage steps</span>
</span><span id=__span-32-21><a id=__codelineno-32-21 name=__codelineno-32-21 href=#__codelineno-32-21></a><span class=s>4. Escalate if criteria met</span>
</span><span id=__span-32-22><a id=__codelineno-32-22 name=__codelineno-32-22 href=#__codelineno-32-22></a><span class=s>EOF</span>
</span></code></pre></div> <h3 id=step-2-integrate-with-incident-workflow>Step 2: Integrate with Incident Workflow<a class=headerlink href=#step-2-integrate-with-incident-workflow title="Permanent link">&para;</a></h3> <div class="language-yaml highlight"><pre><span></span><code><span id=__span-33-1><a id=__codelineno-33-1 name=__codelineno-33-1 href=#__codelineno-33-1></a><span class=c1># .github/workflows/incident-to-runbook.yml</span>
</span><span id=__span-33-2><a id=__codelineno-33-2 name=__codelineno-33-2 href=#__codelineno-33-2></a><span class=nt>name</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">Generate Runbook from Incident</span>
</span><span id=__span-33-3><a id=__codelineno-33-3 name=__codelineno-33-3 href=#__codelineno-33-3></a>
</span><span id=__span-33-4><a id=__codelineno-33-4 name=__codelineno-33-4 href=#__codelineno-33-4></a><span class=nt>on</span><span class=p>:</span>
</span><span id=__span-33-5><a id=__codelineno-33-5 name=__codelineno-33-5 href=#__codelineno-33-5></a><span class=w>  </span><span class=nt>issues</span><span class=p>:</span>
</span><span id=__span-33-6><a id=__codelineno-33-6 name=__codelineno-33-6 href=#__codelineno-33-6></a><span class=w>    </span><span class=nt>types</span><span class=p>:</span><span class=w> </span><span class="p p-Indicator">[</span><span class=nv>closed</span><span class="p p-Indicator">]</span>
</span><span id=__span-33-7><a id=__codelineno-33-7 name=__codelineno-33-7 href=#__codelineno-33-7></a>
</span><span id=__span-33-8><a id=__codelineno-33-8 name=__codelineno-33-8 href=#__codelineno-33-8></a><span class=nt>jobs</span><span class=p>:</span>
</span><span id=__span-33-9><a id=__codelineno-33-9 name=__codelineno-33-9 href=#__codelineno-33-9></a><span class=w>  </span><span class=nt>generate-runbook</span><span class=p>:</span>
</span><span id=__span-33-10><a id=__codelineno-33-10 name=__codelineno-33-10 href=#__codelineno-33-10></a><span class=w>    </span><span class=nt>if</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">contains(github.event.issue.labels.*.name, &#39;incident&#39;)</span>
</span><span id=__span-33-11><a id=__codelineno-33-11 name=__codelineno-33-11 href=#__codelineno-33-11></a><span class=w>    </span><span class=nt>runs-on</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">ubuntu-latest</span>
</span><span id=__span-33-12><a id=__codelineno-33-12 name=__codelineno-33-12 href=#__codelineno-33-12></a><span class=w>    </span><span class=nt>steps</span><span class=p>:</span>
</span><span id=__span-33-13><a id=__codelineno-33-13 name=__codelineno-33-13 href=#__codelineno-33-13></a><span class=w>      </span><span class="p p-Indicator">-</span><span class=w> </span><span class=nt>uses</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">actions/checkout@v4</span>
</span><span id=__span-33-14><a id=__codelineno-33-14 name=__codelineno-33-14 href=#__codelineno-33-14></a>
</span><span id=__span-33-15><a id=__codelineno-33-15 name=__codelineno-33-15 href=#__codelineno-33-15></a><span class=w>      </span><span class="p p-Indicator">-</span><span class=w> </span><span class=nt>name</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">Generate runbook</span>
</span><span id=__span-33-16><a id=__codelineno-33-16 name=__codelineno-33-16 href=#__codelineno-33-16></a><span class=w>        </span><span class=nt>run</span><span class=p>:</span><span class=w> </span><span class="p p-Indicator">|</span>
</span><span id=__span-33-17><a id=__codelineno-33-17 name=__codelineno-33-17 href=#__codelineno-33-17></a><span class=w>          </span><span class=no>pwsh tools/runbooks/analyze-incident.ps1 \</span>
</span><span id=__span-33-18><a id=__codelineno-33-18 name=__codelineno-33-18 href=#__codelineno-33-18></a><span class=w>            </span><span class=no>-IncidentId &quot;${{ github.event.issue.number }}&quot;</span>
</span><span id=__span-33-19><a id=__codelineno-33-19 name=__codelineno-33-19 href=#__codelineno-33-19></a>
</span><span id=__span-33-20><a id=__codelineno-33-20 name=__codelineno-33-20 href=#__codelineno-33-20></a><span class=w>      </span><span class="p p-Indicator">-</span><span class=w> </span><span class=nt>name</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">Create PR</span>
</span><span id=__span-33-21><a id=__codelineno-33-21 name=__codelineno-33-21 href=#__codelineno-33-21></a><span class=w>        </span><span class=nt>run</span><span class=p>:</span><span class=w> </span><span class="p p-Indicator">|</span>
</span><span id=__span-33-22><a id=__codelineno-33-22 name=__codelineno-33-22 href=#__codelineno-33-22></a><span class=w>          </span><span class=no>git checkout -b runbook/incident-${{ github.event.issue.number }}</span>
</span><span id=__span-33-23><a id=__codelineno-33-23 name=__codelineno-33-23 href=#__codelineno-33-23></a><span class=w>          </span><span class=no>git add runbooks/incidents/</span>
</span><span id=__span-33-24><a id=__codelineno-33-24 name=__codelineno-33-24 href=#__codelineno-33-24></a><span class=w>          </span><span class=no>git commit -m &quot;Add runbook for incident #${{ github.event.issue.number }}&quot;</span>
</span><span id=__span-33-25><a id=__codelineno-33-25 name=__codelineno-33-25 href=#__codelineno-33-25></a><span class=w>          </span><span class=no>gh pr create --title &quot;Runbook: Incident #${{ github.event.issue.number }}&quot; \</span>
</span><span id=__span-33-26><a id=__codelineno-33-26 name=__codelineno-33-26 href=#__codelineno-33-26></a><span class=w>            </span><span class=no>--body &quot;Generated from incident postmortem&quot;</span>
</span></code></pre></div> <h3 id=step-3-link-alerts-to-runbooks>Step 3: Link Alerts to Runbooks<a class=headerlink href=#step-3-link-alerts-to-runbooks title="Permanent link">&para;</a></h3> <div class="language-bash highlight"><pre><span></span><code><span id=__span-34-1><a id=__codelineno-34-1 name=__codelineno-34-1 href=#__codelineno-34-1></a><span class=c1># Map alert to runbook</span>
</span><span id=__span-34-2><a id=__codelineno-34-2 name=__codelineno-34-2 href=#__codelineno-34-2></a>cat<span class=w> </span>&gt;<span class=w> </span>alerts/alert-runbook-map.json<span class=w> </span><span class=s>&lt;&lt;EOF</span>
</span><span id=__span-34-3><a id=__codelineno-34-3 name=__codelineno-34-3 href=#__codelineno-34-3></a><span class=s>{</span>
</span><span id=__span-34-4><a id=__codelineno-34-4 name=__codelineno-34-4 href=#__codelineno-34-4></a><span class=s>  &quot;api-error-rate-high&quot;: &quot;runbooks/alerts/api-error-rate.md&quot;,</span>
</span><span id=__span-34-5><a id=__codelineno-34-5 name=__codelineno-34-5 href=#__codelineno-34-5></a><span class=s>  &quot;database-connection-pool&quot;: &quot;runbooks/alerts/database-connection.md&quot;,</span>
</span><span id=__span-34-6><a id=__codelineno-34-6 name=__codelineno-34-6 href=#__codelineno-34-6></a><span class=s>  &quot;memory-usage-high&quot;: &quot;runbooks/alerts/memory-usage.md&quot;</span>
</span><span id=__span-34-7><a id=__codelineno-34-7 name=__codelineno-34-7 href=#__codelineno-34-7></a><span class=s>}</span>
</span><span id=__span-34-8><a id=__codelineno-34-8 name=__codelineno-34-8 href=#__codelineno-34-8></a><span class=s>EOF</span>
</span><span id=__span-34-9><a id=__codelineno-34-9 name=__codelineno-34-9 href=#__codelineno-34-9></a>
</span><span id=__span-34-10><a id=__codelineno-34-10 name=__codelineno-34-10 href=#__codelineno-34-10></a><span class=c1># Update alert notification to include runbook link</span>
</span><span id=__span-34-11><a id=__codelineno-34-11 name=__codelineno-34-11 href=#__codelineno-34-11></a>az<span class=w> </span>monitor<span class=w> </span>action-group<span class=w> </span>update<span class=w> </span><span class=se>\</span>
</span><span id=__span-34-12><a id=__codelineno-34-12 name=__codelineno-34-12 href=#__codelineno-34-12></a><span class=w>  </span>--name<span class=w> </span><span class=s2>&quot;eva-alerts&quot;</span><span class=w> </span><span class=se>\</span>
</span><span id=__span-34-13><a id=__codelineno-34-13 name=__codelineno-34-13 href=#__codelineno-34-13></a><span class=w>  </span>--add-action<span class=w> </span>webhook<span class=w> </span>runbookUrl<span class=w> </span><span class=s2>&quot;https://runbooks.eva.gc.ca/alerts/api-error-rate&quot;</span>
</span></code></pre></div> <hr> <h2 id=interactions-with-other-patterns>ü§ù Interactions with Other Patterns<a class=headerlink href=#interactions-with-other-patterns title="Permanent link">&para;</a></h2> <h3 id=p14-liveops-companion>P14 (LiveOps Companion)<a class=headerlink href=#p14-liveops-companion title="Permanent link">&para;</a></h3> <p><strong>Handoff</strong>: P09 ‚Üí P14 - <strong>Trigger</strong>: Live incident in progress - <strong>Input</strong>: Runbook for incident type - <strong>Output</strong>: Real-time guidance during incident response</p> <p><strong>Example</strong>: <div class="language-yaml highlight"><pre><span></span><code><span id=__span-35-1><a id=__codelineno-35-1 name=__codelineno-35-1 href=#__codelineno-35-1></a><span class=c1># P09 provides runbook</span>
</span><span id=__span-35-2><a id=__codelineno-35-2 name=__codelineno-35-2 href=#__codelineno-35-2></a><span class=c1># P14 interprets logs in context of runbook steps</span>
</span><span id=__span-35-3><a id=__codelineno-35-3 name=__codelineno-35-3 href=#__codelineno-35-3></a><span class="p p-Indicator">-</span><span class=w> </span><span class=nt>name</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">Follow runbook with LiveOps support</span>
</span><span id=__span-35-4><a id=__codelineno-35-4 name=__codelineno-35-4 href=#__codelineno-35-4></a><span class=w>  </span><span class=nt>run</span><span class=p>:</span><span class=w> </span><span class="p p-Indicator">|</span>
</span><span id=__span-35-5><a id=__codelineno-35-5 name=__codelineno-35-5 href=#__codelineno-35-5></a><span class=w>    </span><span class=no>pwsh tools/liveops/guide-incident-response.ps1 \</span>
</span><span id=__span-35-6><a id=__codelineno-35-6 name=__codelineno-35-6 href=#__codelineno-35-6></a><span class=w>      </span><span class=no>-Runbook &quot;runbooks/alerts/api-error-rate.md&quot; \</span>
</span><span id=__span-35-7><a id=__codelineno-35-7 name=__codelineno-35-7 href=#__codelineno-35-7></a><span class=w>      </span><span class=no>-LiveLogs &quot;$(az monitor app-insights query ...)&quot;</span>
</span></code></pre></div></p> <h3 id=p10-metrics-insight-agent>P10 (Metrics &amp; Insight Agent)<a class=headerlink href=#p10-metrics-insight-agent title="Permanent link">&para;</a></h3> <p><strong>Handoff</strong>: P09 ‚Üí P10 - <strong>Trigger</strong>: MTTR analysis requested - <strong>Input</strong>: Incident data, runbook usage metrics - <strong>Output</strong>: MTTR trends dashboard, improvement suggestions</p> <p><strong>Example</strong>: <div class="language-powershell highlight"><pre><span></span><code><span id=__span-36-1><a id=__codelineno-36-1 name=__codelineno-36-1 href=#__codelineno-36-1></a><span class=c># P09 collects MTTR data</span>
</span><span id=__span-36-2><a id=__codelineno-36-2 name=__codelineno-36-2 href=#__codelineno-36-2></a><span class=n>pwsh</span> <span class=n>tools</span><span class=p>/</span><span class=n>runbooks</span><span class=p>/</span><span class=n>collect-mttr-data</span><span class=p>.</span><span class=n>ps1</span> <span class=n>-Days</span> <span class=n>30</span>
</span><span id=__span-36-3><a id=__codelineno-36-3 name=__codelineno-36-3 href=#__codelineno-36-3></a>
</span><span id=__span-36-4><a id=__codelineno-36-4 name=__codelineno-36-4 href=#__codelineno-36-4></a><span class=c># P10 analyzes trends</span>
</span><span id=__span-36-5><a id=__codelineno-36-5 name=__codelineno-36-5 href=#__codelineno-36-5></a><span class=n>pwsh</span> <span class=n>tools</span><span class=p>/</span><span class=n>metrics</span><span class=p>/</span><span class=n>analyze-mttr-trends</span><span class=p>.</span><span class=n>ps1</span> <span class=n>-DataFile</span> <span class=s2>&quot;metrics/mttr-30d.json&quot;</span>
</span></code></pre></div></p> <h3 id=p08-cicd-guardian>P08 (CI/CD Guardian)<a class=headerlink href=#p08-cicd-guardian title="Permanent link">&para;</a></h3> <p><strong>Handoff</strong>: P08 ‚Üí P09 - <strong>Trigger</strong>: Deployment-related incident - <strong>Input</strong>: Deployment logs, rollback evidence - <strong>Output</strong>: Deployment runbook update</p> <p><strong>Example</strong>: <div class="language-markdown highlight"><pre><span></span><code><span id=__span-37-1><a id=__codelineno-37-1 name=__codelineno-37-1 href=#__codelineno-37-1></a><span class=gh># P08 detects failed deployment</span>
</span><span id=__span-37-2><a id=__codelineno-37-2 name=__codelineno-37-2 href=#__codelineno-37-2></a><span class=gh># P09 creates runbook for deployment rollback</span>
</span><span id=__span-37-3><a id=__codelineno-37-3 name=__codelineno-37-3 href=#__codelineno-37-3></a><span class=gu>## Runbook: Deployment Rollback (Database Migration Failure)</span>
</span><span id=__span-37-4><a id=__codelineno-37-4 name=__codelineno-37-4 href=#__codelineno-37-4></a>
</span><span id=__span-37-5><a id=__codelineno-37-5 name=__codelineno-37-5 href=#__codelineno-37-5></a><span class=gu>### Symptoms</span>
</span><span id=__span-37-6><a id=__codelineno-37-6 name=__codelineno-37-6 href=#__codelineno-37-6></a><span class=k>-</span><span class=w> </span>Deployment pipeline failed at migration step
</span><span id=__span-37-7><a id=__codelineno-37-7 name=__codelineno-37-7 href=#__codelineno-37-7></a><span class=k>-</span><span class=w> </span>Error: <span class=sb>`psycopg2.errors.DuplicateTable: relation &quot;users_v2&quot; already exists`</span>
</span><span id=__span-37-8><a id=__codelineno-37-8 name=__codelineno-37-8 href=#__codelineno-37-8></a>
</span><span id=__span-37-9><a id=__codelineno-37-9 name=__codelineno-37-9 href=#__codelineno-37-9></a><span class=gu>### Resolution</span>
</span><span id=__span-37-10><a id=__codelineno-37-10 name=__codelineno-37-10 href=#__codelineno-37-10></a><span class=k>1.</span> Rollback deployment slot
</span><span id=__span-37-11><a id=__codelineno-37-11 name=__codelineno-37-11 href=#__codelineno-37-11></a><span class=k>2.</span> Execute rollback migration
</span><span id=__span-37-12><a id=__codelineno-37-12 name=__codelineno-37-12 href=#__codelineno-37-12></a><span class=k>3.</span> Validate database schema
</span></code></pre></div></p> <h3 id=p11-security-compliance-helper>P11 (Security &amp; Compliance Helper)<a class=headerlink href=#p11-security-compliance-helper title="Permanent link">&para;</a></h3> <p><strong>Handoff</strong>: P11 ‚Üí P09 - <strong>Trigger</strong>: Security incident detected - <strong>Input</strong>: Security scan results, vulnerability details - <strong>Output</strong>: Security incident runbook</p> <p><strong>Example</strong>: <div class="language-markdown highlight"><pre><span></span><code><span id=__span-38-1><a id=__codelineno-38-1 name=__codelineno-38-1 href=#__codelineno-38-1></a><span class=gh># Runbook: Security Incident (Leaked API Key)</span>
</span><span id=__span-38-2><a id=__codelineno-38-2 name=__codelineno-38-2 href=#__codelineno-38-2></a>
</span><span id=__span-38-3><a id=__codelineno-38-3 name=__codelineno-38-3 href=#__codelineno-38-3></a><span class=gu>## Immediate Actions (15 minutes)</span>
</span><span id=__span-38-4><a id=__codelineno-38-4 name=__codelineno-38-4 href=#__codelineno-38-4></a><span class=k>1.</span> Revoke compromised API key
</span><span id=__span-38-5><a id=__codelineno-38-5 name=__codelineno-38-5 href=#__codelineno-38-5></a><span class=k>2.</span> Rotate all related secrets
</span><span id=__span-38-6><a id=__codelineno-38-6 name=__codelineno-38-6 href=#__codelineno-38-6></a><span class=k>3.</span> Audit access logs for unauthorized usage
</span><span id=__span-38-7><a id=__codelineno-38-7 name=__codelineno-38-7 href=#__codelineno-38-7></a><span class=k>4.</span> Block suspicious IP addresses
</span></code></pre></div></p> <hr> <h2 id=related-patterns-and-resources>üìö Related Patterns and Resources<a class=headerlink href=#related-patterns-and-resources title="Permanent link">&para;</a></h2> <h3 id=closely-related-patterns>Closely Related Patterns<a class=headerlink href=#closely-related-patterns title="Permanent link">&para;</a></h3> <ul> <li><strong>P14 (LiveOps Companion)</strong>: Real-time incident response using P09 runbooks</li> <li><strong>P10 (Metrics Agent)</strong>: MTTR trend analysis from P09 data</li> <li><strong>P08 (CI/CD Guardian)</strong>: Deployment runbook integration</li> <li><strong>P11 (Security Helper)</strong>: Security incident runbooks</li> </ul> <h3 id=reference-documentation>Reference Documentation<a class=headerlink href=#reference-documentation title="Permanent link">&para;</a></h3> <ul> <li><a href=../../../runbooks/incident-response/ >Incident Response Guide</a></li> <li><a href=../../runbooks/on-call-playbook.md>On-Call Playbook</a></li> <li><a href=https://metrics.eva.gc.ca/mttr>MTTR Dashboard</a></li> <li><a href=../../monitoring/alerts-catalog.md>Alert Catalog</a></li> </ul> <h3 id=external-references>External References<a class=headerlink href=#external-references title="Permanent link">&para;</a></h3> <ul> <li><a href=https://sre.google/sre-book/incident-response/ >Google SRE Book - Incident Response</a></li> <li><a href=https://response.pagerduty.com/ >PagerDuty Incident Response</a></li> <li><a href=https://www.atlassian.com/incident-management/handbook>Atlassian Incident Handbook</a></li> </ul> <hr> <h2 id=key-takeaways>üéì Key Takeaways<a class=headerlink href=#key-takeaways title="Permanent link">&para;</a></h2> <ol> <li><strong>Every incident is a learning opportunity</strong> - Transform incidents into institutional knowledge</li> <li><strong>Runbooks reduce MTTR</strong> - Proven resolution steps beat improvisation</li> <li><strong>Consistency matters</strong> - Standardized format makes runbooks predictable</li> <li><strong>Timeboxes prevent rabbit holes</strong> - Escalate after defined time limits</li> <li><strong>Automation amplifies runbooks</strong> - Automate repetitive manual steps</li> <li><strong>Runbooks need maintenance</strong> - Review and update quarterly</li> <li><strong>Train your team</strong> - Runbooks are useless if on-call doesn't know them</li> </ol> <hr> <h2 id=support-and-escalation>üìû Support and Escalation<a class=headerlink href=#support-and-escalation title="Permanent link">&para;</a></h2> <h3 id=questions-about-p09>Questions About P09<a class=headerlink href=#questions-about-p09 title="Permanent link">&para;</a></h3> <ul> <li><strong>Runbook Creation</strong>: Ask in <code>#eva-sre</code> Slack/Teams channel</li> <li><strong>MTTR Analysis</strong>: Contact POD-O (Operations) lead</li> <li><strong>Incident Response</strong>: Follow on-call escalation path</li> <li><strong>Automation</strong>: Escalate to P14 (LiveOps Companion)</li> </ul> <h3 id=issue-reporting>Issue Reporting<a class=headerlink href=#issue-reporting title="Permanent link">&para;</a></h3> <ul> <li><strong>Runbook Inaccuracy</strong>: Create issue with <code>p09-runbook-error</code> label</li> <li><strong>MTTR Trends</strong>: Create issue with <code>p09-mttr-analysis</code> label</li> <li><strong>Missing Runbooks</strong>: Create issue with <code>p09-coverage</code> label</li> </ul> <h3 id=escalation-path_1>Escalation Path<a class=headerlink href=#escalation-path_1 title="Permanent link">&para;</a></h3> <ol> <li><strong>On-Call Engineer</strong>: Follows runbook</li> <li><strong>SRE Team</strong>: Escalated incidents, runbook maintenance</li> <li><strong>Operations Manager</strong>: Policy decisions, MTTR targets</li> <li><strong>VP Engineering</strong>: Critical incidents, service outages</li> </ol> <hr> <p><strong>Version</strong>: 1.0.0 <strong>Last Updated</strong>: 2025-12-12 <strong>Maintained By</strong>: POD-O (Operations) + SRE <strong>Issue</strong>: <a href=https://github.com/MarcoPolo483/eva-orchestrator/issues/112>#112</a> <strong>Sprint</strong>: Sprint 6 (P08-P14) <strong>Labels</strong>: <code>pod-o-priority</code>, <code>pattern-P09</code>, <code>sprint-6</code>, <code>agentic-book</code></p> <hr> <p><strong>End of Chapter P09</strong></p> </article> </div> <script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script> </div> <button type=button class="md-top md-icon" data-md-component=top hidden> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8v12Z"/></svg> Back to top </button> </main> <footer class=md-footer> <div class="md-footer-meta md-typeset"> <div class="md-footer-meta__inner md-grid"> <div class=md-copyright> <div class=md-copyright__highlight> Copyright &copy; 2025 MarcoPolo483 </div> Made with <a href=https://squidfunk.github.io/mkdocs-material/ target=_blank rel=noopener> Material for MkDocs </a> </div> <div class=md-social> <a href=https://github.com/MarcoPolo483/eva-orchestrator target=_blank rel=noopener title=github.com class=md-social__link> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 496 512"><!-- Font Awesome Free 6.5.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"/></svg> </a> </div> </div> </div> </footer> </div> <div class=md-dialog data-md-component=dialog> <div class="md-dialog__inner md-typeset"></div> </div> <script id=__config type=application/json>{"base": "../../..", "features": ["navigation.instant", "navigation.tracking", "navigation.tabs", "navigation.sections", "navigation.expand", "navigation.top", "search.suggest", "search.highlight", "search.share", "content.code.copy", "content.code.annotate"], "search": "../../../assets/javascripts/workers/search.f886a092.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}, "version": {"default": "latest", "provider": "mike"}}</script> <script src=../../../assets/javascripts/bundle.d7c377c4.min.js></script> <script src=../../../javascripts/extra.js></script> </body> </html>